
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "_examples\shap-examples\plot_main02.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        Click :ref:`here <sphx_glr_download__examples_shap-examples_plot_main02.py>`
        to download the full example code

.. rst-class:: sphx-glr-example-title

.. _sphx_glr__examples_shap-examples_plot_main02.py:


Shap -
=================

.. GENERATED FROM PYTHON SOURCE LINES 6-174



.. rst-class:: sphx-glr-horizontal


    *

      .. image:: /_examples/shap-examples/images/sphx_glr_plot_main02_001.png
          :alt: GaussianNB
          :class: sphx-glr-multi-img

    *

      .. image:: /_examples/shap-examples/images/sphx_glr_plot_main02_002.png
          :alt: LogisticRegression
          :class: sphx-glr-multi-img

    *

      .. image:: /_examples/shap-examples/images/sphx_glr_plot_main02_003.png
          :alt: DecisionTreeClassifier
          :class: sphx-glr-multi-img

    *

      .. image:: /_examples/shap-examples/images/sphx_glr_plot_main02_004.png
          :alt: RandomForestClassifier
          :class: sphx-glr-multi-img

    *

      .. image:: /_examples/shap-examples/images/sphx_glr_plot_main02_005.png
          :alt: XGBClassifier
          :class: sphx-glr-multi-img

    *

      .. image:: /_examples/shap-examples/images/sphx_glr_plot_main02_006.png
          :alt: MLPClassifier
          :class: sphx-glr-multi-img

    *

      .. image:: /_examples/shap-examples/images/sphx_glr_plot_main02_007.png
          :alt: SVC
          :class: sphx-glr-multi-img

    *

      .. image:: /_examples/shap-examples/images/sphx_glr_plot_main02_008.png
          :alt: ExtraTreesClassifier
          :class: sphx-glr-multi-img


.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    c:\users\kelda\desktop\repositories\virtualenvs\venvpy3864-epicimpoc\lib\site-packages\sklearn\neural_network\_multilayer_perceptron.py:582: ConvergenceWarning:

    Stochastic Optimizer: Maximum iterations (200) reached and the optimization hasn't converged yet.

    <IPython.core.display.HTML object>

    --------------------------------------------------------------------------------
    Classifier: GaussianNB()
    Kernel type: <class 'shap.explainers._kernel.Kernel'>
      0%|                                                                                                                                                             | 0/375 [00:00<?, ?it/s]      3%|####7                                                                                                                                              | 12/375 [00:00<00:03, 111.97it/s]      6%|#########4                                                                                                                                         | 24/375 [00:00<00:03, 112.97it/s]     10%|##############1                                                                                                                                    | 36/375 [00:00<00:02, 113.69it/s]     13%|##################8                                                                                                                                | 48/375 [00:00<00:02, 114.19it/s]     16%|#######################5                                                                                                                           | 60/375 [00:00<00:02, 115.04it/s]     19%|############################2                                                                                                                      | 72/375 [00:00<00:02, 115.59it/s]     22%|################################9                                                                                                                  | 84/375 [00:00<00:02, 115.86it/s]     26%|#####################################6                                                                                                             | 96/375 [00:00<00:02, 116.39it/s]     29%|##########################################                                                                                                        | 108/375 [00:00<00:02, 116.42it/s]     32%|##############################################7                                                                                                   | 120/375 [00:01<00:02, 116.45it/s]     35%|###################################################3                                                                                              | 132/375 [00:01<00:02, 115.90it/s]     38%|########################################################                                                                                          | 144/375 [00:01<00:01, 115.75it/s]     42%|############################################################7                                                                                     | 156/375 [00:01<00:01, 115.30it/s]     45%|#################################################################4                                                                                | 168/375 [00:01<00:01, 115.00it/s]     48%|######################################################################                                                                            | 180/375 [00:01<00:01, 114.73it/s]     51%|##########################################################################7                                                                       | 192/375 [00:01<00:01, 114.76it/s]     54%|###############################################################################4                                                                  | 204/375 [00:01<00:01, 115.27it/s]     58%|####################################################################################                                                              | 216/375 [00:01<00:01, 109.02it/s]     61%|########################################################################################3                                                         | 227/375 [00:01<00:01, 106.77it/s]     64%|#############################################################################################                                                     | 239/375 [00:02<00:01, 108.62it/s]     67%|#################################################################################################7                                                | 251/375 [00:02<00:01, 110.57it/s]     70%|######################################################################################################3                                           | 263/375 [00:02<00:01, 111.93it/s]     73%|###########################################################################################################                                       | 275/375 [00:02<00:00, 113.26it/s]     77%|###############################################################################################################7                                  | 287/375 [00:02<00:00, 113.89it/s]     80%|####################################################################################################################4                             | 299/375 [00:02<00:00, 114.55it/s]     83%|#########################################################################################################################                         | 311/375 [00:02<00:00, 114.80it/s]     86%|#############################################################################################################################7                    | 323/375 [00:02<00:00, 114.97it/s]     89%|##################################################################################################################################4               | 335/375 [00:02<00:00, 114.44it/s]     93%|#######################################################################################################################################           | 347/375 [00:03<00:00, 114.07it/s]     96%|###########################################################################################################################################7      | 359/375 [00:03<00:00, 114.23it/s]     99%|################################################################################################################################################4 | 371/375 [00:03<00:00, 114.40it/s]    100%|##################################################################################################################################################| 375/375 [00:03<00:00, 114.07it/s]
    base value: 0.6256054145239283
      0%|                                                                                                                                                             | 0/375 [00:00<?, ?it/s]      3%|####7                                                                                                                                              | 12/375 [00:00<00:03, 116.50it/s]      6%|#########4                                                                                                                                         | 24/375 [00:00<00:03, 115.96it/s]      9%|#############7                                                                                                                                     | 35/375 [00:00<00:03, 110.99it/s]     12%|##################                                                                                                                                 | 46/375 [00:00<00:02, 110.36it/s]     15%|######################7                                                                                                                            | 58/375 [00:00<00:02, 111.20it/s]     19%|###########################4                                                                                                                       | 70/375 [00:00<00:02, 112.11it/s]     22%|################################1                                                                                                                  | 82/375 [00:00<00:02, 112.75it/s]     25%|####################################8                                                                                                              | 94/375 [00:00<00:02, 113.49it/s]     28%|#########################################2                                                                                                        | 106/375 [00:00<00:02, 113.72it/s]     31%|#############################################9                                                                                                    | 118/375 [00:01<00:02, 114.54it/s]     35%|##################################################6                                                                                               | 130/375 [00:01<00:02, 114.47it/s]     38%|#######################################################2                                                                                          | 142/375 [00:01<00:02, 114.74it/s]     41%|###########################################################9                                                                                      | 154/375 [00:01<00:01, 115.22it/s]     44%|################################################################6                                                                                 | 166/375 [00:01<00:01, 115.27it/s]     47%|#####################################################################3                                                                            | 178/375 [00:01<00:01, 114.97it/s]     51%|#########################################################################9                                                                        | 190/375 [00:01<00:01, 113.46it/s]     54%|##############################################################################6                                                                   | 202/375 [00:01<00:01, 111.18it/s]     57%|###################################################################################3                                                              | 214/375 [00:01<00:01, 109.94it/s]     60%|#######################################################################################9                                                          | 226/375 [00:02<00:01, 110.59it/s]     63%|############################################################################################6                                                     | 238/375 [00:02<00:01, 111.36it/s]     67%|#################################################################################################3                                                | 250/375 [00:02<00:01, 111.91it/s]     70%|######################################################################################################                                            | 262/375 [00:02<00:01, 112.30it/s]     73%|##########################################################################################################6                                       | 274/375 [00:02<00:00, 112.57it/s]     76%|###############################################################################################################3                                  | 286/375 [00:02<00:00, 112.76it/s]     79%|####################################################################################################################                              | 298/375 [00:02<00:00, 112.58it/s]     83%|########################################################################################################################6                         | 310/375 [00:02<00:00, 112.76it/s]     86%|#############################################################################################################################3                    | 322/375 [00:02<00:00, 112.43it/s]     89%|##################################################################################################################################                | 334/375 [00:02<00:00, 111.72it/s]     92%|######################################################################################################################################7           | 346/375 [00:03<00:00, 110.92it/s]     95%|###########################################################################################################################################3      | 358/375 [00:03<00:00, 107.98it/s]     98%|###############################################################################################################################################6  | 369/375 [00:03<00:00, 107.94it/s]    100%|##################################################################################################################################################| 375/375 [00:03<00:00, 111.86it/s]

    --------------------------------------------------------------------------------
    Classifier: LogisticRegression()
    Kernel type: <class 'shap.explainers._kernel.Kernel'>
      0%|                                                                                                                                                             | 0/375 [00:00<?, ?it/s]      3%|####7                                                                                                                                              | 12/375 [00:00<00:03, 117.65it/s]      6%|#########4                                                                                                                                         | 24/375 [00:00<00:02, 117.99it/s]     10%|##############1                                                                                                                                    | 36/375 [00:00<00:02, 117.89it/s]     13%|##################8                                                                                                                                | 48/375 [00:00<00:02, 117.52it/s]     16%|#######################5                                                                                                                           | 60/375 [00:00<00:02, 117.56it/s]     19%|############################2                                                                                                                      | 72/375 [00:00<00:02, 117.90it/s]     22%|################################9                                                                                                                  | 84/375 [00:00<00:02, 117.82it/s]     26%|#####################################6                                                                                                             | 96/375 [00:00<00:02, 118.12it/s]     29%|##########################################                                                                                                        | 108/375 [00:00<00:02, 117.75it/s]     32%|##############################################7                                                                                                   | 120/375 [00:01<00:02, 117.72it/s]     35%|###################################################7                                                                                              | 133/375 [00:01<00:02, 118.50it/s]     39%|########################################################4                                                                                         | 145/375 [00:01<00:01, 118.24it/s]     42%|#############################################################1                                                                                    | 157/375 [00:01<00:01, 118.41it/s]     45%|#################################################################7                                                                                | 169/375 [00:01<00:01, 118.18it/s]     48%|######################################################################4                                                                           | 181/375 [00:01<00:01, 118.37it/s]     51%|###########################################################################1                                                                      | 193/375 [00:01<00:01, 118.50it/s]     55%|###############################################################################8                                                                  | 205/375 [00:01<00:01, 118.25it/s]     58%|####################################################################################4                                                             | 217/375 [00:01<00:01, 118.06it/s]     61%|#########################################################################################1                                                        | 229/375 [00:01<00:01, 118.12it/s]     64%|#############################################################################################8                                                    | 241/375 [00:02<00:01, 117.98it/s]     67%|##################################################################################################5                                               | 253/375 [00:02<00:01, 117.88it/s]     71%|#######################################################################################################1                                          | 265/375 [00:02<00:00, 117.81it/s]     74%|###########################################################################################################8                                      | 277/375 [00:02<00:00, 117.76it/s]     77%|################################################################################################################5                                 | 289/375 [00:02<00:00, 117.86it/s]     80%|#####################################################################################################################1                            | 301/375 [00:02<00:00, 118.50it/s]     84%|##########################################################################################################################2                       | 314/375 [00:02<00:00, 119.05it/s]     87%|##############################################################################################################################9                   | 326/375 [00:02<00:00, 119.33it/s]     90%|###################################################################################################################################9              | 339/375 [00:02<00:00, 119.64it/s]     94%|#########################################################################################################################################         | 352/375 [00:02<00:00, 120.00it/s]     97%|##############################################################################################################################################1   | 365/375 [00:03<00:00, 119.78it/s]    100%|##################################################################################################################################################| 375/375 [00:03<00:00, 118.47it/s]
    base value: 0.6042417816207093
      0%|                                                                                                                                                             | 0/375 [00:00<?, ?it/s]      3%|####7                                                                                                                                              | 12/375 [00:00<00:03, 117.65it/s]      6%|#########4                                                                                                                                         | 24/375 [00:00<00:02, 117.99it/s]     10%|##############1                                                                                                                                    | 36/375 [00:00<00:02, 118.35it/s]     13%|##################8                                                                                                                                | 48/375 [00:00<00:02, 118.14it/s]     16%|#######################5                                                                                                                           | 60/375 [00:00<00:02, 118.34it/s]     19%|############################2                                                                                                                      | 72/375 [00:00<00:02, 118.83it/s]     22%|################################9                                                                                                                  | 84/375 [00:00<00:02, 118.47it/s]     26%|#####################################6                                                                                                             | 96/375 [00:00<00:02, 118.68it/s]     29%|##########################################                                                                                                        | 108/375 [00:00<00:02, 119.07it/s]     32%|##############################################7                                                                                                   | 120/375 [00:01<00:02, 118.64it/s]     35%|###################################################3                                                                                              | 132/375 [00:01<00:02, 112.67it/s]     38%|########################################################                                                                                          | 144/375 [00:01<00:02, 113.47it/s]     42%|############################################################7                                                                                     | 156/375 [00:01<00:01, 114.40it/s]     45%|#################################################################4                                                                                | 168/375 [00:01<00:01, 115.36it/s]     48%|######################################################################                                                                            | 180/375 [00:01<00:01, 116.03it/s]     51%|##########################################################################7                                                                       | 192/375 [00:01<00:01, 116.85it/s]     54%|###############################################################################4                                                                  | 204/375 [00:01<00:01, 117.43it/s]     58%|####################################################################################                                                              | 216/375 [00:01<00:01, 117.42it/s]     61%|########################################################################################7                                                         | 228/375 [00:01<00:01, 117.49it/s]     64%|#############################################################################################4                                                    | 240/375 [00:02<00:01, 117.88it/s]     67%|##################################################################################################1                                               | 252/375 [00:02<00:01, 118.16it/s]     70%|######################################################################################################7                                           | 264/375 [00:02<00:00, 118.35it/s]     74%|###########################################################################################################4                                      | 276/375 [00:02<00:00, 118.08it/s]     77%|################################################################################################################1                                 | 288/375 [00:02<00:00, 117.68it/s]     80%|####################################################################################################################8                             | 300/375 [00:02<00:00, 117.67it/s]     83%|#########################################################################################################################4                        | 312/375 [00:02<00:00, 117.32it/s]     87%|##############################################################################################################################5                   | 325/375 [00:02<00:00, 118.22it/s]     90%|###################################################################################################################################5              | 338/375 [00:02<00:00, 118.87it/s]     93%|########################################################################################################################################2         | 350/375 [00:02<00:00, 118.85it/s]     97%|############################################################################################################################################9     | 362/375 [00:03<00:00, 117.10it/s]    100%|#################################################################################################################################################6| 374/375 [00:03<00:00, 117.61it/s]    100%|##################################################################################################################################################| 375/375 [00:03<00:00, 117.43it/s]

    --------------------------------------------------------------------------------
    Classifier: DecisionTreeClassifier(random_state=0)
    Kernel type: <class 'shap.explainers._kernel.Kernel'>
      0%|                                                                                                                                                             | 0/375 [00:00<?, ?it/s]      3%|####7                                                                                                                                              | 12/375 [00:00<00:03, 118.09it/s]      6%|#########4                                                                                                                                         | 24/375 [00:00<00:02, 117.27it/s]     10%|##############1                                                                                                                                    | 36/375 [00:00<00:02, 116.82it/s]     13%|##################8                                                                                                                                | 48/375 [00:00<00:02, 116.73it/s]     16%|#######################5                                                                                                                           | 60/375 [00:00<00:02, 117.00it/s]     19%|############################2                                                                                                                      | 72/375 [00:00<00:02, 116.97it/s]     22%|################################9                                                                                                                  | 84/375 [00:00<00:02, 116.44it/s]     26%|#####################################6                                                                                                             | 96/375 [00:00<00:02, 116.79it/s]     29%|##########################################                                                                                                        | 108/375 [00:00<00:02, 117.05it/s]     32%|##############################################7                                                                                                   | 120/375 [00:01<00:02, 115.53it/s]     35%|###################################################3                                                                                              | 132/375 [00:01<00:02, 116.27it/s]     38%|########################################################                                                                                          | 144/375 [00:01<00:01, 117.02it/s]     42%|############################################################7                                                                                     | 156/375 [00:01<00:01, 117.21it/s]     45%|#################################################################4                                                                                | 168/375 [00:01<00:01, 117.34it/s]     48%|######################################################################                                                                            | 180/375 [00:01<00:01, 117.09it/s]     51%|##########################################################################7                                                                       | 192/375 [00:01<00:01, 115.22it/s]     54%|###############################################################################4                                                                  | 204/375 [00:01<00:01, 114.61it/s]     58%|####################################################################################                                                              | 216/375 [00:01<00:01, 115.17it/s]     61%|########################################################################################7                                                         | 228/375 [00:01<00:01, 114.90it/s]     64%|#############################################################################################4                                                    | 240/375 [00:02<00:01, 114.72it/s]     67%|##################################################################################################1                                               | 252/375 [00:02<00:01, 114.80it/s]     70%|######################################################################################################7                                           | 264/375 [00:02<00:00, 112.39it/s]     74%|###########################################################################################################4                                      | 276/375 [00:02<00:00, 113.27it/s]     77%|################################################################################################################1                                 | 288/375 [00:02<00:00, 114.55it/s]     80%|####################################################################################################################8                             | 300/375 [00:02<00:00, 115.63it/s]     83%|#########################################################################################################################4                        | 312/375 [00:02<00:00, 116.73it/s]     86%|##############################################################################################################################1                   | 324/375 [00:02<00:00, 117.35it/s]     90%|###################################################################################################################################2              | 337/375 [00:02<00:00, 118.24it/s]     93%|#######################################################################################################################################8          | 349/375 [00:03<00:00, 118.41it/s]     96%|############################################################################################################################################5     | 361/375 [00:03<00:00, 118.65it/s]     99%|#################################################################################################################################################2| 373/375 [00:03<00:00, 118.52it/s]    100%|##################################################################################################################################################| 375/375 [00:03<00:00, 116.34it/s]
    base value: 0.5900000000000001
      0%|                                                                                                                                                             | 0/375 [00:00<?, ?it/s]      3%|####7                                                                                                                                              | 12/375 [00:00<00:03, 116.51it/s]      6%|#########4                                                                                                                                         | 24/375 [00:00<00:03, 116.85it/s]     10%|##############1                                                                                                                                    | 36/375 [00:00<00:02, 117.08it/s]     13%|##################8                                                                                                                                | 48/375 [00:00<00:02, 117.32it/s]     16%|#######################5                                                                                                                           | 60/375 [00:00<00:02, 117.42it/s]     19%|############################2                                                                                                                      | 72/375 [00:00<00:02, 117.49it/s]     22%|################################5                                                                                                                  | 83/375 [00:00<00:02, 113.01it/s]     25%|#####################################2                                                                                                             | 95/375 [00:00<00:02, 113.22it/s]     29%|#########################################6                                                                                                        | 107/375 [00:00<00:02, 114.01it/s]     32%|##############################################3                                                                                                   | 119/375 [00:01<00:02, 114.75it/s]     35%|###################################################                                                                                               | 131/375 [00:01<00:02, 114.94it/s]     38%|#######################################################6                                                                                          | 143/375 [00:01<00:02, 115.74it/s]     41%|############################################################3                                                                                     | 155/375 [00:01<00:01, 115.97it/s]     45%|#################################################################                                                                                 | 167/375 [00:01<00:01, 116.28it/s]     48%|#####################################################################6                                                                            | 179/375 [00:01<00:01, 116.52it/s]     51%|##########################################################################3                                                                       | 191/375 [00:01<00:01, 116.85it/s]     54%|###############################################################################                                                                   | 203/375 [00:01<00:01, 117.09it/s]     57%|###################################################################################7                                                              | 215/375 [00:01<00:01, 117.60it/s]     61%|########################################################################################3                                                         | 227/375 [00:01<00:01, 117.71it/s]     64%|#############################################################################################                                                     | 239/375 [00:02<00:01, 118.39it/s]     67%|#################################################################################################7                                                | 251/375 [00:02<00:01, 117.82it/s]     70%|######################################################################################################3                                           | 263/375 [00:02<00:00, 117.08it/s]     73%|###########################################################################################################                                       | 275/375 [00:02<00:00, 110.14it/s]     77%|###############################################################################################################7                                  | 287/375 [00:02<00:00, 111.17it/s]     80%|####################################################################################################################4                             | 299/375 [00:02<00:00, 112.72it/s]     83%|#########################################################################################################################                         | 311/375 [00:02<00:00, 113.83it/s]     86%|#############################################################################################################################7                    | 323/375 [00:02<00:00, 114.62it/s]     89%|##################################################################################################################################4               | 335/375 [00:02<00:00, 115.51it/s]     93%|#######################################################################################################################################           | 347/375 [00:03<00:00, 116.48it/s]     96%|###########################################################################################################################################7      | 359/375 [00:03<00:00, 116.49it/s]     99%|################################################################################################################################################4 | 371/375 [00:03<00:00, 116.83it/s]    100%|##################################################################################################################################################| 375/375 [00:03<00:00, 115.77it/s]

    --------------------------------------------------------------------------------
    Classifier: RandomForestClassifier(random_state=0)
    Kernel type: <class 'shap.explainers._kernel.Kernel'>
      0%|                                                                                                                                                             | 0/375 [00:00<?, ?it/s]      1%|#9                                                                                                                                                   | 5/375 [00:00<00:08, 41.23it/s]      3%|###9                                                                                                                                                | 10/375 [00:00<00:08, 41.46it/s]      4%|#####9                                                                                                                                              | 15/375 [00:00<00:08, 41.84it/s]      5%|#######8                                                                                                                                            | 20/375 [00:00<00:08, 42.00it/s]      7%|#########8                                                                                                                                          | 25/375 [00:00<00:08, 42.22it/s]      8%|###########8                                                                                                                                        | 30/375 [00:00<00:08, 42.50it/s]      9%|#############8                                                                                                                                      | 35/375 [00:00<00:07, 42.57it/s]     11%|###############7                                                                                                                                    | 40/375 [00:00<00:07, 42.73it/s]     12%|#################7                                                                                                                                  | 45/375 [00:01<00:07, 42.95it/s]     13%|###################7                                                                                                                                | 50/375 [00:01<00:07, 42.91it/s]     15%|#####################7                                                                                                                              | 55/375 [00:01<00:07, 42.97it/s]     16%|#######################6                                                                                                                            | 60/375 [00:01<00:07, 43.12it/s]     17%|#########################6                                                                                                                          | 65/375 [00:01<00:07, 43.12it/s]     19%|###########################6                                                                                                                        | 70/375 [00:01<00:07, 42.96it/s]     20%|#############################6                                                                                                                      | 75/375 [00:01<00:06, 42.96it/s]     21%|###############################5                                                                                                                    | 80/375 [00:01<00:06, 43.11it/s]     23%|#################################5                                                                                                                  | 85/375 [00:01<00:06, 43.22it/s]     24%|###################################5                                                                                                                | 90/375 [00:02<00:06, 43.41it/s]     25%|#####################################4                                                                                                              | 95/375 [00:02<00:06, 43.36it/s]     27%|#######################################2                                                                                                           | 100/375 [00:02<00:06, 43.23it/s]     28%|#########################################1                                                                                                         | 105/375 [00:02<00:06, 43.08it/s]     29%|###########################################1                                                                                                       | 110/375 [00:02<00:06, 43.02it/s]     31%|#############################################                                                                                                      | 115/375 [00:02<00:06, 42.91it/s]     32%|###############################################                                                                                                    | 120/375 [00:02<00:05, 43.08it/s]     33%|#################################################                                                                                                  | 125/375 [00:02<00:05, 43.31it/s]     35%|##################################################9                                                                                                | 130/375 [00:03<00:05, 43.25it/s]     36%|####################################################9                                                                                              | 135/375 [00:03<00:05, 43.32it/s]     37%|######################################################8                                                                                            | 140/375 [00:03<00:05, 43.29it/s]     39%|########################################################8                                                                                          | 145/375 [00:03<00:05, 43.23it/s]     40%|##########################################################8                                                                                        | 150/375 [00:03<00:05, 43.31it/s]     41%|############################################################7                                                                                      | 155/375 [00:03<00:05, 43.13it/s]     43%|##############################################################7                                                                                    | 160/375 [00:03<00:04, 43.04it/s]     44%|################################################################6                                                                                  | 165/375 [00:03<00:04, 42.73it/s]     45%|##################################################################6                                                                                | 170/375 [00:03<00:04, 43.06it/s]     47%|####################################################################6                                                                              | 175/375 [00:04<00:04, 42.96it/s]     48%|######################################################################5                                                                            | 180/375 [00:04<00:04, 43.12it/s]     49%|########################################################################5                                                                          | 185/375 [00:04<00:04, 43.22it/s]     51%|##########################################################################4                                                                        | 190/375 [00:04<00:04, 43.08it/s]     52%|############################################################################4                                                                      | 195/375 [00:04<00:04, 43.31it/s]     53%|##############################################################################4                                                                    | 200/375 [00:04<00:04, 43.36it/s]     55%|################################################################################3                                                                  | 205/375 [00:04<00:03, 43.15it/s]     56%|##################################################################################3                                                                | 210/375 [00:04<00:03, 43.14it/s]     57%|####################################################################################2                                                              | 215/375 [00:04<00:03, 43.13it/s]     59%|######################################################################################2                                                            | 220/375 [00:05<00:03, 43.01it/s]     60%|########################################################################################2                                                          | 225/375 [00:05<00:03, 43.02it/s]     61%|##########################################################################################1                                                        | 230/375 [00:05<00:03, 43.16it/s]     63%|############################################################################################1                                                      | 235/375 [00:05<00:03, 43.25it/s]     64%|##############################################################################################                                                     | 240/375 [00:05<00:03, 43.22it/s]     65%|################################################################################################                                                   | 245/375 [00:05<00:03, 43.07it/s]     67%|##################################################################################################                                                 | 250/375 [00:05<00:02, 43.31it/s]     68%|###################################################################################################9                                               | 255/375 [00:05<00:02, 43.36it/s]     69%|#####################################################################################################9                                             | 260/375 [00:06<00:02, 43.28it/s]     71%|#######################################################################################################8                                           | 265/375 [00:06<00:02, 43.12it/s]     72%|#########################################################################################################8                                         | 270/375 [00:06<00:02, 43.10it/s]     73%|###########################################################################################################8                                       | 275/375 [00:06<00:02, 43.21it/s]     75%|#############################################################################################################7                                     | 280/375 [00:06<00:02, 43.29it/s]     76%|###############################################################################################################7                                   | 285/375 [00:06<00:02, 43.23it/s]     77%|#################################################################################################################6                                 | 290/375 [00:06<00:01, 43.24it/s]     79%|###################################################################################################################6                               | 295/375 [00:06<00:01, 43.20it/s]     80%|#####################################################################################################################6                             | 300/375 [00:06<00:01, 43.28it/s]     81%|#######################################################################################################################5                           | 305/375 [00:07<00:01, 43.34it/s]     83%|#########################################################################################################################5                         | 310/375 [00:07<00:01, 43.27it/s]     84%|###########################################################################################################################4                       | 315/375 [00:07<00:01, 43.11it/s]     85%|#############################################################################################################################4                     | 320/375 [00:07<00:01, 43.44it/s]     87%|###############################################################################################################################4                   | 325/375 [00:07<00:01, 43.74it/s]     88%|#################################################################################################################################3                 | 330/375 [00:07<00:01, 43.66it/s]     89%|###################################################################################################################################3               | 335/375 [00:07<00:00, 43.53it/s]     91%|#####################################################################################################################################2             | 340/375 [00:07<00:00, 43.46it/s]     92%|#######################################################################################################################################2           | 345/375 [00:07<00:00, 43.58it/s]     93%|#########################################################################################################################################2         | 350/375 [00:08<00:00, 42.99it/s]     95%|###########################################################################################################################################1       | 355/375 [00:08<00:00, 42.88it/s]     96%|#############################################################################################################################################1     | 360/375 [00:08<00:00, 42.81it/s]     97%|###############################################################################################################################################    | 365/375 [00:08<00:00, 42.68it/s]     99%|#################################################################################################################################################  | 370/375 [00:08<00:00, 42.59it/s]    100%|###################################################################################################################################################| 375/375 [00:08<00:00, 42.74it/s]    100%|###################################################################################################################################################| 375/375 [00:08<00:00, 43.09it/s]
    base value: 0.5881000000000001
      0%|                                                                                                                                                             | 0/375 [00:00<?, ?it/s]      1%|#9                                                                                                                                                   | 5/375 [00:00<00:08, 43.61it/s]      3%|###9                                                                                                                                                | 10/375 [00:00<00:08, 43.61it/s]      4%|#####9                                                                                                                                              | 15/375 [00:00<00:08, 43.43it/s]      5%|#######8                                                                                                                                            | 20/375 [00:00<00:08, 43.16it/s]      7%|#########8                                                                                                                                          | 25/375 [00:00<00:08, 43.06it/s]      8%|###########8                                                                                                                                        | 30/375 [00:00<00:08, 43.07it/s]      9%|#############8                                                                                                                                      | 35/375 [00:00<00:07, 43.10it/s]     11%|###############7                                                                                                                                    | 40/375 [00:00<00:07, 43.10it/s]     12%|#################7                                                                                                                                  | 45/375 [00:01<00:07, 43.21it/s]     13%|###################7                                                                                                                                | 50/375 [00:01<00:07, 42.91it/s]     15%|#####################7                                                                                                                              | 55/375 [00:01<00:07, 42.96it/s]     16%|#######################6                                                                                                                            | 60/375 [00:01<00:07, 43.01it/s]     17%|#########################6                                                                                                                          | 65/375 [00:01<00:07, 43.14it/s]     19%|###########################6                                                                                                                        | 70/375 [00:01<00:07, 43.18it/s]     20%|#############################6                                                                                                                      | 75/375 [00:01<00:06, 43.17it/s]     21%|###############################5                                                                                                                    | 80/375 [00:01<00:06, 43.37it/s]     23%|#################################5                                                                                                                  | 85/375 [00:01<00:06, 43.29it/s]     24%|###################################5                                                                                                                | 90/375 [00:02<00:06, 43.46it/s]     25%|#####################################4                                                                                                              | 95/375 [00:02<00:06, 43.46it/s]     27%|#######################################2                                                                                                           | 100/375 [00:02<00:06, 43.47it/s]     28%|#########################################1                                                                                                         | 105/375 [00:02<00:06, 43.36it/s]     29%|###########################################1                                                                                                       | 110/375 [00:02<00:06, 43.17it/s]     31%|#############################################                                                                                                      | 115/375 [00:02<00:06, 43.11it/s]     32%|###############################################                                                                                                    | 120/375 [00:02<00:05, 43.11it/s]     33%|#################################################                                                                                                  | 125/375 [00:02<00:05, 43.22it/s]     35%|##################################################9                                                                                                | 130/375 [00:03<00:05, 43.35it/s]     36%|####################################################9                                                                                              | 135/375 [00:03<00:05, 43.22it/s]     37%|######################################################8                                                                                            | 140/375 [00:03<00:05, 43.19it/s]     39%|########################################################8                                                                                          | 145/375 [00:03<00:05, 42.94it/s]     40%|##########################################################8                                                                                        | 150/375 [00:03<00:05, 42.88it/s]     41%|############################################################7                                                                                      | 155/375 [00:03<00:05, 42.83it/s]     43%|##############################################################7                                                                                    | 160/375 [00:03<00:05, 42.73it/s]     44%|################################################################6                                                                                  | 165/375 [00:03<00:04, 42.95it/s]     45%|##################################################################6                                                                                | 170/375 [00:03<00:04, 43.10it/s]     47%|####################################################################6                                                                              | 175/375 [00:04<00:04, 43.32it/s]     48%|######################################################################5                                                                            | 180/375 [00:04<00:04, 43.27it/s]     49%|########################################################################5                                                                          | 185/375 [00:04<00:04, 43.22it/s]     51%|##########################################################################4                                                                        | 190/375 [00:04<00:04, 42.85it/s]     52%|############################################################################4                                                                      | 195/375 [00:04<00:04, 43.03it/s]     53%|##############################################################################4                                                                    | 200/375 [00:04<00:04, 43.03it/s]     55%|################################################################################3                                                                  | 205/375 [00:04<00:03, 43.16it/s]     56%|##################################################################################3                                                                | 210/375 [00:04<00:03, 43.03it/s]     57%|####################################################################################2                                                              | 215/375 [00:04<00:03, 43.17it/s]     59%|######################################################################################2                                                            | 220/375 [00:05<00:03, 43.25it/s]     60%|########################################################################################2                                                          | 225/375 [00:05<00:03, 43.20it/s]     61%|##########################################################################################1                                                        | 230/375 [00:05<00:03, 43.17it/s]     63%|############################################################################################1                                                      | 235/375 [00:05<00:03, 43.04it/s]     64%|##############################################################################################                                                     | 240/375 [00:05<00:03, 43.17it/s]     65%|################################################################################################                                                   | 245/375 [00:05<00:03, 43.10it/s]     67%|##################################################################################################                                                 | 250/375 [00:05<00:02, 43.10it/s]     68%|###################################################################################################9                                               | 255/375 [00:05<00:02, 43.21it/s]     69%|#####################################################################################################9                                             | 260/375 [00:06<00:02, 43.18it/s]     71%|#######################################################################################################8                                           | 265/375 [00:06<00:02, 43.05it/s]     72%|#########################################################################################################8                                         | 270/375 [00:06<00:02, 43.18it/s]     73%|###########################################################################################################8                                       | 275/375 [00:06<00:02, 43.15it/s]     75%|#############################################################################################################7                                     | 280/375 [00:06<00:02, 43.14it/s]     76%|###############################################################################################################7                                   | 285/375 [00:06<00:02, 43.02it/s]     77%|#################################################################################################################6                                 | 290/375 [00:06<00:01, 43.01it/s]     79%|###################################################################################################################6                               | 295/375 [00:06<00:01, 43.04it/s]     80%|#####################################################################################################################6                             | 300/375 [00:06<00:01, 43.06it/s]     81%|#######################################################################################################################5                           | 305/375 [00:07<00:01, 43.07it/s]     83%|#########################################################################################################################5                         | 310/375 [00:07<00:01, 43.22it/s]     84%|###########################################################################################################################4                       | 315/375 [00:07<00:01, 43.19it/s]     85%|#############################################################################################################################4                     | 320/375 [00:07<00:01, 43.16it/s]     87%|###############################################################################################################################4                   | 325/375 [00:07<00:01, 43.26it/s]     88%|#################################################################################################################################3                 | 330/375 [00:07<00:01, 43.19it/s]     89%|###################################################################################################################################3               | 335/375 [00:07<00:00, 43.18it/s]     91%|#####################################################################################################################################2             | 340/375 [00:07<00:00, 43.15it/s]     92%|#######################################################################################################################################2           | 345/375 [00:07<00:00, 43.14it/s]     93%|#########################################################################################################################################2         | 350/375 [00:08<00:00, 43.13it/s]     95%|###########################################################################################################################################1       | 355/375 [00:08<00:00, 43.14it/s]     96%|#############################################################################################################################################1     | 360/375 [00:08<00:00, 43.13it/s]     97%|###############################################################################################################################################    | 365/375 [00:08<00:00, 43.23it/s]     99%|#################################################################################################################################################  | 370/375 [00:08<00:00, 43.08it/s]    100%|###################################################################################################################################################| 375/375 [00:08<00:00, 43.08it/s]    100%|###################################################################################################################################################| 375/375 [00:08<00:00, 43.14it/s]

    --------------------------------------------------------------------------------
    Classifier: XGBClassifier(base_score=0.5, booster='gbtree', colsample_bylevel=1,
                  colsample_bynode=1, colsample_bytree=1, eta=0.05, gamma=0.2,
                  gpu_id=-1, importance_type='gain', interaction_constraints='',
                  learning_rate=0.0500000007, max_delta_step=0, max_depth=4,
                  min_child_weight=0.005, missing=nan, monotone_constraints='()',
                  n_estimators=100, n_jobs=0, num_parallel_tree=1, random_state=0,
                  reg_alpha=0, reg_lambda=1, scale_pos_weight=1, subsample=1,
                  tree_method='exact', validate_parameters=1, verbosity=None)
    Kernel type: <class 'shap.explainers._tree.Tree'>
    base value: 0.3504104323204956

    --------------------------------------------------------------------------------
    Classifier: MLPClassifier()
    Kernel type: <class 'shap.explainers._kernel.Kernel'>
      0%|                                                                                                                                                             | 0/375 [00:00<?, ?it/s]      3%|###9                                                                                                                                                | 10/375 [00:00<00:03, 98.94it/s]      6%|########2                                                                                                                                           | 21/375 [00:00<00:03, 99.78it/s]      9%|############5                                                                                                                                      | 32/375 [00:00<00:03, 100.38it/s]     11%|################8                                                                                                                                  | 43/375 [00:00<00:03, 100.80it/s]     14%|#####################1                                                                                                                             | 54/375 [00:00<00:03, 101.00it/s]     17%|#########################4                                                                                                                         | 65/375 [00:00<00:03, 101.24it/s]     20%|#############################7                                                                                                                     | 76/375 [00:00<00:02, 101.41it/s]     23%|##################################1                                                                                                                | 87/375 [00:00<00:02, 101.81it/s]     26%|######################################4                                                                                                            | 98/375 [00:00<00:02, 102.09it/s]     29%|##########################################4                                                                                                       | 109/375 [00:01<00:02, 102.15it/s]     32%|##############################################7                                                                                                   | 120/375 [00:01<00:02, 102.34it/s]     35%|###################################################                                                                                               | 131/375 [00:01<00:02, 102.48it/s]     38%|#######################################################2                                                                                          | 142/375 [00:01<00:02, 102.87it/s]     41%|###########################################################5                                                                                      | 153/375 [00:01<00:02, 102.56it/s]     44%|###############################################################8                                                                                  | 164/375 [00:01<00:02, 102.59it/s]     47%|####################################################################1                                                                             | 175/375 [00:01<00:01, 102.65it/s]     50%|########################################################################4                                                                         | 186/375 [00:01<00:01, 102.41it/s]     53%|############################################################################6                                                                     | 197/375 [00:01<00:01, 102.53it/s]     55%|################################################################################9                                                                 | 208/375 [00:02<00:01, 102.44it/s]     58%|#####################################################################################2                                                            | 219/375 [00:02<00:01, 102.29it/s]     61%|#########################################################################################5                                                        | 230/375 [00:02<00:01, 101.58it/s]     64%|#############################################################################################8                                                    | 241/375 [00:02<00:01, 101.93it/s]     67%|##################################################################################################1                                               | 252/375 [00:02<00:01, 102.19it/s]     70%|######################################################################################################3                                           | 263/375 [00:02<00:01, 102.02it/s]     73%|##########################################################################################################6                                       | 274/375 [00:02<00:00, 102.38it/s]     76%|##############################################################################################################9                                   | 285/375 [00:02<00:00, 102.51it/s]     79%|###################################################################################################################2                              | 296/375 [00:02<00:00, 102.31it/s]     82%|#######################################################################################################################5                          | 307/375 [00:03<00:00, 102.46it/s]     85%|###########################################################################################################################8                      | 318/375 [00:03<00:00, 102.55it/s]     88%|################################################################################################################################                  | 329/375 [00:03<00:00, 102.62it/s]     91%|####################################################################################################################################3             | 340/375 [00:03<00:00, 102.66it/s]     94%|########################################################################################################################################6         | 351/375 [00:03<00:00, 102.71it/s]     97%|############################################################################################################################################9     | 362/375 [00:03<00:00, 102.44it/s]     99%|#################################################################################################################################################2| 373/375 [00:03<00:00, 102.62it/s]    100%|##################################################################################################################################################| 375/375 [00:03<00:00, 102.24it/s]
    base value: 0.5641859213887581
      0%|                                                                                                                                                             | 0/375 [00:00<?, ?it/s]      3%|####3                                                                                                                                              | 11/375 [00:00<00:03, 102.81it/s]      6%|########6                                                                                                                                          | 22/375 [00:00<00:03, 102.52it/s]      9%|############9                                                                                                                                      | 33/375 [00:00<00:03, 102.31it/s]     12%|#################2                                                                                                                                 | 44/375 [00:00<00:03, 102.09it/s]     15%|#####################5                                                                                                                             | 55/375 [00:00<00:03, 102.12it/s]     18%|#########################8                                                                                                                         | 66/375 [00:00<00:03, 102.33it/s]     21%|##############################1                                                                                                                    | 77/375 [00:00<00:02, 102.47it/s]     23%|##################################4                                                                                                                | 88/375 [00:00<00:02, 102.57it/s]     26%|######################################8                                                                                                            | 99/375 [00:00<00:02, 102.38it/s]     29%|##########################################8                                                                                                       | 110/375 [00:01<00:02, 102.51it/s]     32%|###############################################1                                                                                                  | 121/375 [00:01<00:02, 102.31it/s]     35%|###################################################3                                                                                              | 132/375 [00:01<00:02, 102.18it/s]     38%|#######################################################6                                                                                          | 143/375 [00:01<00:02, 102.64it/s]     41%|###########################################################9                                                                                      | 154/375 [00:01<00:02, 102.11it/s]     44%|################################################################2                                                                                 | 165/375 [00:01<00:02, 102.32it/s]     47%|####################################################################5                                                                             | 176/375 [00:01<00:01, 102.13it/s]     50%|########################################################################8                                                                         | 187/375 [00:01<00:01, 102.33it/s]     53%|#############################################################################                                                                     | 198/375 [00:01<00:01, 102.18it/s]     56%|#################################################################################3                                                                | 209/375 [00:02<00:01, 102.21it/s]     59%|#####################################################################################6                                                            | 220/375 [00:02<00:01, 102.39it/s]     62%|#########################################################################################9                                                        | 231/375 [00:02<00:01, 102.23it/s]     65%|##############################################################################################2                                                   | 242/375 [00:02<00:01, 102.11it/s]     67%|##################################################################################################5                                               | 253/375 [00:02<00:01, 101.97it/s]     70%|######################################################################################################7                                           | 264/375 [00:02<00:01, 102.22it/s]     73%|###########################################################################################################                                       | 275/375 [00:02<00:00, 102.10it/s]     76%|###############################################################################################################3                                  | 286/375 [00:02<00:00, 102.31it/s]     79%|###################################################################################################################6                              | 297/375 [00:02<00:00, 102.18it/s]     82%|#######################################################################################################################9                          | 308/375 [00:03<00:00, 102.20it/s]     85%|############################################################################################################################1                     | 319/375 [00:03<00:00, 102.39it/s]     88%|################################################################################################################################4                 | 330/375 [00:03<00:00, 102.23it/s]     91%|####################################################################################################################################7             | 341/375 [00:03<00:00, 102.40it/s]     94%|#########################################################################################################################################         | 352/375 [00:03<00:00, 102.24it/s]     97%|#############################################################################################################################################3    | 363/375 [00:03<00:00, 102.20it/s]    100%|#################################################################################################################################################6| 374/375 [00:03<00:00, 102.09it/s]    100%|##################################################################################################################################################| 375/375 [00:03<00:00, 102.23it/s]

    --------------------------------------------------------------------------------
    Classifier: SVC(probability=True)
    Kernel type: <class 'shap.explainers._kernel.Kernel'>
      0%|                                                                                                                                                             | 0/375 [00:00<?, ?it/s]      3%|####3                                                                                                                                              | 11/375 [00:00<00:03, 102.80it/s]      6%|########6                                                                                                                                          | 22/375 [00:00<00:03, 103.09it/s]      9%|############9                                                                                                                                      | 33/375 [00:00<00:03, 103.21it/s]     12%|#################2                                                                                                                                 | 44/375 [00:00<00:03, 103.67it/s]     15%|#####################5                                                                                                                             | 55/375 [00:00<00:03, 103.41it/s]     18%|#########################8                                                                                                                         | 66/375 [00:00<00:02, 103.81it/s]     21%|##############################1                                                                                                                    | 77/375 [00:00<00:02, 103.31it/s]     23%|##################################4                                                                                                                | 88/375 [00:00<00:02, 103.43it/s]     26%|######################################8                                                                                                            | 99/375 [00:00<00:02, 103.53it/s]     29%|##########################################8                                                                                                       | 110/375 [00:01<00:02, 103.02it/s]     32%|###############################################1                                                                                                  | 121/375 [00:01<00:02, 103.25it/s]     35%|###################################################3                                                                                              | 132/375 [00:01<00:02, 103.35it/s]     38%|#######################################################6                                                                                          | 143/375 [00:01<00:02, 103.17it/s]     41%|###########################################################9                                                                                      | 154/375 [00:01<00:02, 102.76it/s]     44%|################################################################2                                                                                 | 165/375 [00:01<00:02, 102.76it/s]     47%|####################################################################5                                                                             | 176/375 [00:01<00:01, 101.91it/s]     50%|########################################################################8                                                                         | 187/375 [00:01<00:01, 101.91it/s]     53%|#############################################################################                                                                     | 198/375 [00:01<00:01, 101.88it/s]     56%|#################################################################################3                                                                | 209/375 [00:02<00:01, 101.86it/s]     59%|#####################################################################################6                                                            | 220/375 [00:02<00:01, 102.42it/s]     62%|#########################################################################################9                                                        | 231/375 [00:02<00:01, 102.35it/s]     65%|##############################################################################################2                                                   | 242/375 [00:02<00:01, 102.89it/s]     67%|##################################################################################################5                                               | 253/375 [00:02<00:01, 102.62it/s]     70%|######################################################################################################7                                           | 264/375 [00:02<00:01, 102.95it/s]     73%|###########################################################################################################                                       | 275/375 [00:02<00:00, 103.31it/s]     76%|###############################################################################################################3                                  | 286/375 [00:02<00:00, 103.34it/s]     79%|###################################################################################################################6                              | 297/375 [00:02<00:00, 103.46it/s]     82%|#######################################################################################################################9                          | 308/375 [00:02<00:00, 103.54it/s]     85%|############################################################################################################################1                     | 319/375 [00:03<00:00, 103.61it/s]     88%|################################################################################################################################4                 | 330/375 [00:03<00:00, 103.37it/s]     91%|####################################################################################################################################7             | 341/375 [00:03<00:00, 103.23it/s]     94%|#########################################################################################################################################         | 352/375 [00:03<00:00, 102.81it/s]     97%|#############################################################################################################################################3    | 363/375 [00:03<00:00, 102.81it/s]    100%|#################################################################################################################################################6| 374/375 [00:03<00:00, 102.81it/s]    100%|##################################################################################################################################################| 375/375 [00:03<00:00, 102.98it/s]
    base value: 0.6004333027407507
      0%|                                                                                                                                                             | 0/375 [00:00<?, ?it/s]      3%|####3                                                                                                                                              | 11/375 [00:00<00:03, 102.82it/s]      5%|#######8                                                                                                                                            | 20/375 [00:00<00:03, 97.47it/s]      8%|###########8                                                                                                                                        | 30/375 [00:00<00:03, 97.93it/s]     11%|################1                                                                                                                                   | 41/375 [00:00<00:03, 99.32it/s]     14%|####################5                                                                                                                               | 52/375 [00:00<00:03, 99.79it/s]     17%|########################6                                                                                                                          | 63/375 [00:00<00:03, 100.67it/s]     20%|#############################                                                                                                                      | 74/375 [00:00<00:02, 100.78it/s]     23%|#################################3                                                                                                                 | 85/375 [00:00<00:02, 101.31it/s]     26%|#####################################6                                                                                                             | 96/375 [00:00<00:02, 101.32it/s]     29%|#########################################6                                                                                                        | 107/375 [00:01<00:02, 101.65it/s]     31%|#############################################9                                                                                                    | 118/375 [00:01<00:02, 102.01it/s]     34%|##################################################2                                                                                               | 129/375 [00:01<00:02, 101.93it/s]     37%|######################################################5                                                                                           | 140/375 [00:01<00:02, 102.13it/s]     40%|##########################################################7                                                                                       | 151/375 [00:01<00:02, 102.37it/s]     43%|###############################################################                                                                                   | 162/375 [00:01<00:02, 102.57it/s]     46%|###################################################################3                                                                              | 173/375 [00:01<00:01, 102.51it/s]     49%|#######################################################################6                                                                          | 184/375 [00:01<00:01, 102.63it/s]     52%|############################################################################4                                                                      | 195/375 [00:01<00:01, 95.79it/s]     55%|################################################################################3                                                                  | 205/375 [00:02<00:01, 95.89it/s]     57%|####################################################################################2                                                              | 215/375 [00:02<00:01, 95.15it/s]     60%|########################################################################################2                                                          | 225/375 [00:02<00:01, 94.89it/s]     63%|############################################################################################5                                                      | 236/375 [00:02<00:01, 96.13it/s]     66%|################################################################################################4                                                  | 246/375 [00:02<00:01, 95.85it/s]     68%|####################################################################################################3                                              | 256/375 [00:02<00:01, 96.77it/s]     71%|########################################################################################################2                                          | 266/375 [00:02<00:01, 97.44it/s]     74%|############################################################################################################1                                      | 276/375 [00:02<00:01, 96.07it/s]     76%|################################################################################################################1                                  | 286/375 [00:02<00:00, 90.37it/s]     79%|####################################################################################################################                               | 296/375 [00:03<00:00, 87.91it/s]     82%|#######################################################################################################################9                           | 306/375 [00:03<00:00, 89.50it/s]     84%|###########################################################################################################################8                       | 316/375 [00:03<00:00, 91.06it/s]     87%|###############################################################################################################################7                   | 326/375 [00:03<00:00, 92.52it/s]     90%|###################################################################################################################################7               | 336/375 [00:03<00:00, 93.86it/s]     92%|#######################################################################################################################################6           | 346/375 [00:03<00:00, 95.34it/s]     95%|###########################################################################################################################################5       | 356/375 [00:03<00:00, 96.14it/s]     98%|###############################################################################################################################################4   | 366/375 [00:03<00:00, 97.19it/s]    100%|###################################################################################################################################################| 375/375 [00:03<00:00, 97.38it/s]

    --------------------------------------------------------------------------------
    Classifier: ExtraTreesClassifier()
    Kernel type: <class 'shap.explainers._kernel.Kernel'>
      0%|                                                                                                                                                             | 0/375 [00:00<?, ?it/s]      1%|#9                                                                                                                                                   | 5/375 [00:00<00:09, 40.66it/s]      2%|###5                                                                                                                                                 | 9/375 [00:00<00:09, 39.97it/s]      3%|#####1                                                                                                                                              | 13/375 [00:00<00:09, 39.42it/s]      5%|#######1                                                                                                                                            | 18/375 [00:00<00:09, 39.53it/s]      6%|########6                                                                                                                                           | 22/375 [00:00<00:08, 39.60it/s]      7%|##########2                                                                                                                                         | 26/375 [00:00<00:08, 39.37it/s]      8%|###########8                                                                                                                                        | 30/375 [00:00<00:08, 38.54it/s]      9%|#############4                                                                                                                                      | 34/375 [00:00<00:08, 37.99it/s]     10%|##############9                                                                                                                                     | 38/375 [00:00<00:09, 36.96it/s]     11%|################5                                                                                                                                   | 42/375 [00:01<00:08, 37.40it/s]     12%|##################1                                                                                                                                 | 46/375 [00:01<00:08, 37.90it/s]     13%|###################7                                                                                                                                | 50/375 [00:01<00:08, 37.86it/s]     14%|#####################3                                                                                                                              | 54/375 [00:01<00:08, 37.95it/s]     16%|#######################2                                                                                                                            | 59/375 [00:01<00:08, 38.54it/s]     17%|########################8                                                                                                                           | 63/375 [00:01<00:08, 38.78it/s]     18%|##########################4                                                                                                                         | 67/375 [00:01<00:08, 38.13it/s]     19%|############################                                                                                                                        | 71/375 [00:01<00:08, 37.87it/s]     20%|#############################6                                                                                                                      | 75/375 [00:01<00:07, 38.09it/s]     21%|###############################1                                                                                                                    | 79/375 [00:02<00:07, 37.77it/s]     22%|################################7                                                                                                                   | 83/375 [00:02<00:07, 37.86it/s]     23%|##################################7                                                                                                                 | 88/375 [00:02<00:07, 38.22it/s]     25%|####################################7                                                                                                               | 93/375 [00:02<00:07, 38.56it/s]     26%|######################################6                                                                                                             | 98/375 [00:02<00:07, 39.07it/s]     27%|########################################3                                                                                                          | 103/375 [00:02<00:06, 39.44it/s]     29%|#########################################9                                                                                                         | 107/375 [00:02<00:06, 39.49it/s]     30%|###########################################5                                                                                                       | 111/375 [00:02<00:06, 39.19it/s]     31%|#############################################                                                                                                      | 115/375 [00:02<00:06, 39.37it/s]     32%|##############################################6                                                                                                    | 119/375 [00:03<00:06, 39.09it/s]     33%|################################################2                                                                                                  | 123/375 [00:03<00:06, 38.01it/s]     34%|#################################################7                                                                                                 | 127/375 [00:03<00:06, 37.82it/s]     35%|###################################################3                                                                                               | 131/375 [00:03<00:06, 37.74it/s]     36%|####################################################9                                                                                              | 135/375 [00:03<00:06, 37.94it/s]     37%|######################################################8                                                                                            | 140/375 [00:03<00:06, 38.80it/s]     39%|########################################################8                                                                                          | 145/375 [00:03<00:05, 39.16it/s]     40%|##########################################################8                                                                                        | 150/375 [00:03<00:05, 39.61it/s]     41%|############################################################7                                                                                      | 155/375 [00:04<00:05, 39.85it/s]     42%|##############################################################3                                                                                    | 159/375 [00:04<00:05, 39.90it/s]     44%|################################################################2                                                                                  | 164/375 [00:04<00:05, 39.92it/s]     45%|##################################################################2                                                                                | 169/375 [00:04<00:05, 40.28it/s]     46%|####################################################################2                                                                              | 174/375 [00:04<00:05, 39.48it/s]     47%|#####################################################################7                                                                             | 178/375 [00:04<00:05, 38.27it/s]     49%|#######################################################################3                                                                           | 182/375 [00:04<00:05, 36.95it/s]     50%|########################################################################9                                                                          | 186/375 [00:04<00:05, 34.66it/s]     51%|##########################################################################4                                                                        | 190/375 [00:04<00:05, 36.04it/s]     52%|############################################################################                                                                       | 194/375 [00:05<00:04, 37.04it/s]     53%|#############################################################################6                                                                     | 198/375 [00:05<00:04, 37.67it/s]     54%|###############################################################################1                                                                   | 202/375 [00:05<00:04, 37.90it/s]     55%|################################################################################7                                                                  | 206/375 [00:05<00:04, 37.96it/s]     56%|##################################################################################3                                                                | 210/375 [00:05<00:04, 37.55it/s]     57%|###################################################################################8                                                               | 214/375 [00:05<00:04, 38.25it/s]     58%|#####################################################################################4                                                             | 218/375 [00:05<00:04, 38.42it/s]     59%|#######################################################################################                                                            | 222/375 [00:05<00:03, 38.55it/s]     60%|########################################################################################5                                                          | 226/375 [00:05<00:03, 38.89it/s]     62%|##########################################################################################5                                                        | 231/375 [00:05<00:03, 39.31it/s]     63%|############################################################################################5                                                      | 236/375 [00:06<00:03, 39.61it/s]     64%|##############################################################################################                                                     | 240/375 [00:06<00:03, 39.37it/s]     65%|################################################################################################                                                   | 245/375 [00:06<00:03, 39.75it/s]     67%|##################################################################################################                                                 | 250/375 [00:06<00:03, 40.35it/s]     68%|###################################################################################################9                                               | 255/375 [00:06<00:02, 40.34it/s]     69%|#####################################################################################################9                                             | 260/375 [00:06<00:02, 40.63it/s]     71%|#######################################################################################################8                                           | 265/375 [00:06<00:02, 40.34it/s]     72%|#########################################################################################################8                                         | 270/375 [00:06<00:02, 40.37it/s]     73%|###########################################################################################################8                                       | 275/375 [00:07<00:02, 39.78it/s]     75%|#############################################################################################################7                                     | 280/375 [00:07<00:02, 40.18it/s]     76%|###############################################################################################################7                                   | 285/375 [00:07<00:02, 40.42it/s]     77%|#################################################################################################################6                                 | 290/375 [00:07<00:02, 40.54it/s]     79%|###################################################################################################################6                               | 295/375 [00:07<00:01, 40.87it/s]     80%|#####################################################################################################################6                             | 300/375 [00:07<00:01, 40.77it/s]     81%|#######################################################################################################################5                           | 305/375 [00:07<00:01, 41.07it/s]     83%|#########################################################################################################################5                         | 310/375 [00:07<00:01, 41.28it/s]     84%|###########################################################################################################################4                       | 315/375 [00:08<00:01, 41.19it/s]     85%|#############################################################################################################################4                     | 320/375 [00:08<00:01, 41.28it/s]     87%|###############################################################################################################################4                   | 325/375 [00:08<00:01, 41.60it/s]     88%|#################################################################################################################################3                 | 330/375 [00:08<00:01, 41.44it/s]     89%|###################################################################################################################################3               | 335/375 [00:08<00:00, 40.80it/s]     91%|#####################################################################################################################################2             | 340/375 [00:08<00:00, 40.75it/s]     92%|#######################################################################################################################################2           | 345/375 [00:08<00:00, 40.48it/s]     93%|#########################################################################################################################################2         | 350/375 [00:08<00:00, 40.27it/s]     95%|###########################################################################################################################################1       | 355/375 [00:09<00:00, 40.27it/s]     96%|#############################################################################################################################################1     | 360/375 [00:09<00:00, 39.90it/s]     97%|###############################################################################################################################################    | 365/375 [00:09<00:00, 40.02it/s]     99%|#################################################################################################################################################  | 370/375 [00:09<00:00, 39.85it/s]    100%|##################################################################################################################################################6| 374/375 [00:09<00:00, 39.77it/s]    100%|###################################################################################################################################################| 375/375 [00:09<00:00, 39.25it/s]
    base value: 0.5900000000000001
      0%|                                                                                                                                                             | 0/375 [00:00<?, ?it/s]      1%|#9                                                                                                                                                   | 5/375 [00:00<00:08, 41.32it/s]      2%|###5                                                                                                                                                 | 9/375 [00:00<00:08, 40.79it/s]      3%|#####1                                                                                                                                              | 13/375 [00:00<00:09, 38.67it/s]      5%|######7                                                                                                                                             | 17/375 [00:00<00:09, 38.94it/s]      6%|########6                                                                                                                                           | 22/375 [00:00<00:08, 39.44it/s]      7%|##########6                                                                                                                                         | 27/375 [00:00<00:08, 39.70it/s]      9%|############6                                                                                                                                       | 32/375 [00:00<00:08, 40.16it/s]     10%|##############2                                                                                                                                     | 36/375 [00:00<00:08, 39.83it/s]     11%|################1                                                                                                                                   | 41/375 [00:01<00:08, 39.98it/s]     12%|##################1                                                                                                                                 | 46/375 [00:01<00:08, 40.47it/s]     13%|###################7                                                                                                                                | 50/375 [00:01<00:08, 40.28it/s]     15%|#####################7                                                                                                                              | 55/375 [00:01<00:07, 40.31it/s]     16%|#######################6                                                                                                                            | 60/375 [00:01<00:07, 40.56it/s]     17%|#########################6                                                                                                                          | 65/375 [00:01<00:07, 40.00it/s]     19%|###########################6                                                                                                                        | 70/375 [00:01<00:07, 40.24it/s]     20%|#############################6                                                                                                                      | 75/375 [00:01<00:07, 40.35it/s]     21%|###############################5                                                                                                                    | 80/375 [00:01<00:07, 40.52it/s]     23%|#################################5                                                                                                                  | 85/375 [00:02<00:07, 40.71it/s]     24%|###################################5                                                                                                                | 90/375 [00:02<00:06, 40.99it/s]     25%|#####################################4                                                                                                              | 95/375 [00:02<00:06, 40.89it/s]     27%|#######################################2                                                                                                           | 100/375 [00:02<00:06, 40.92it/s]     28%|#########################################1                                                                                                         | 105/375 [00:02<00:06, 41.04it/s]     29%|###########################################1                                                                                                       | 110/375 [00:02<00:06, 40.92it/s]     31%|#############################################                                                                                                      | 115/375 [00:02<00:06, 40.84it/s]     32%|###############################################                                                                                                    | 120/375 [00:02<00:06, 40.98it/s]     33%|#################################################                                                                                                  | 125/375 [00:03<00:06, 41.18it/s]     35%|##################################################9                                                                                                | 130/375 [00:03<00:05, 41.03it/s]     36%|####################################################9                                                                                              | 135/375 [00:03<00:05, 41.12it/s]     37%|######################################################8                                                                                            | 140/375 [00:03<00:05, 41.11it/s]     39%|########################################################8                                                                                          | 145/375 [00:03<00:05, 41.27it/s]     40%|##########################################################8                                                                                        | 150/375 [00:03<00:05, 40.98it/s]     41%|############################################################7                                                                                      | 155/375 [00:03<00:05, 40.99it/s]     43%|##############################################################7                                                                                    | 160/375 [00:03<00:05, 40.63it/s]     44%|################################################################6                                                                                  | 165/375 [00:04<00:05, 40.64it/s]     45%|##################################################################6                                                                                | 170/375 [00:04<00:05, 40.75it/s]     47%|####################################################################6                                                                              | 175/375 [00:04<00:04, 40.46it/s]     48%|######################################################################5                                                                            | 180/375 [00:04<00:04, 40.51it/s]     49%|########################################################################5                                                                          | 185/375 [00:04<00:04, 40.55it/s]     51%|##########################################################################4                                                                        | 190/375 [00:04<00:04, 40.29it/s]     52%|############################################################################4                                                                      | 195/375 [00:04<00:04, 40.79it/s]     53%|##############################################################################4                                                                    | 200/375 [00:04<00:04, 41.04it/s]     55%|################################################################################3                                                                  | 205/375 [00:05<00:04, 41.16it/s]     56%|##################################################################################3                                                                | 210/375 [00:05<00:04, 40.72it/s]     57%|####################################################################################2                                                              | 215/375 [00:05<00:04, 39.26it/s]     58%|#####################################################################################8                                                             | 219/375 [00:05<00:03, 39.37it/s]     59%|#######################################################################################4                                                           | 223/375 [00:05<00:03, 38.43it/s]     61%|########################################################################################9                                                          | 227/375 [00:05<00:03, 38.22it/s]     62%|##########################################################################################5                                                        | 231/375 [00:05<00:03, 38.40it/s]     63%|############################################################################################1                                                      | 235/375 [00:05<00:04, 34.45it/s]     64%|#############################################################################################6                                                     | 239/375 [00:05<00:03, 35.84it/s]     65%|###############################################################################################6                                                   | 244/375 [00:06<00:03, 37.11it/s]     66%|#################################################################################################6                                                 | 249/375 [00:06<00:03, 38.28it/s]     68%|###################################################################################################5                                               | 254/375 [00:06<00:03, 39.06it/s]     69%|#####################################################################################################5                                             | 259/375 [00:06<00:02, 39.85it/s]     70%|#######################################################################################################4                                           | 264/375 [00:06<00:02, 40.18it/s]     72%|#########################################################################################################4                                         | 269/375 [00:06<00:02, 40.62it/s]     73%|###########################################################################################################4                                       | 274/375 [00:06<00:02, 40.83it/s]     74%|#############################################################################################################3                                     | 279/375 [00:06<00:02, 40.80it/s]     76%|###############################################################################################################3                                   | 284/375 [00:07<00:02, 41.00it/s]     77%|#################################################################################################################2                                 | 289/375 [00:07<00:02, 40.89it/s]     78%|###################################################################################################################2                               | 294/375 [00:07<00:01, 40.92it/s]     80%|#####################################################################################################################2                             | 299/375 [00:07<00:01, 40.94it/s]     81%|#######################################################################################################################1                           | 304/375 [00:07<00:01, 40.75it/s]     82%|#########################################################################################################################1                         | 309/375 [00:07<00:01, 40.82it/s]     84%|###########################################################################################################################                        | 314/375 [00:07<00:01, 40.67it/s]     85%|#############################################################################################################################                      | 319/375 [00:07<00:01, 40.76it/s]     86%|###############################################################################################################################                    | 324/375 [00:08<00:01, 40.83it/s]     88%|################################################################################################################################9                  | 329/375 [00:08<00:01, 40.28it/s]     89%|##################################################################################################################################9                | 334/375 [00:08<00:01, 40.20it/s]     90%|####################################################################################################################################8              | 339/375 [00:08<00:00, 40.24it/s]     92%|######################################################################################################################################8            | 344/375 [00:08<00:00, 40.30it/s]     93%|########################################################################################################################################8          | 349/375 [00:08<00:00, 40.50it/s]     94%|##########################################################################################################################################7        | 354/375 [00:08<00:00, 40.55it/s]     96%|############################################################################################################################################7      | 359/375 [00:08<00:00, 40.58it/s]     97%|##############################################################################################################################################6    | 364/375 [00:09<00:00, 40.80it/s]     98%|################################################################################################################################################6  | 369/375 [00:09<00:00, 40.95it/s]    100%|##################################################################################################################################################6| 374/375 [00:09<00:00, 40.86it/s]    100%|###################################################################################################################################################| 375/375 [00:09<00:00, 40.28it/s]






|

.. code-block:: default
   :lineno-start: 6

    # Generic
    import numpy as np
    import pandas as pd
    import matplotlib.pyplot as plt

    # Sklearn
    from sklearn.model_selection import train_test_split
    from sklearn.datasets import load_iris
    from sklearn.datasets import load_breast_cancer
    from sklearn.naive_bayes import GaussianNB
    from sklearn.linear_model import LogisticRegression
    from sklearn.tree import DecisionTreeClassifier
    from sklearn.ensemble import RandomForestClassifier
    from sklearn.svm import SVC
    from sklearn.ensemble import ExtraTreesClassifier
    from sklearn.neural_network import MLPClassifier
    from sklearn.calibration import CalibratedClassifierCV

    # Xgboost
    from xgboost import XGBClassifier

    # ----------------------------------------
    # Load data
    # ----------------------------------------
    # Seed
    seed = 0

    # Load dataset
    bunch = load_iris()
    bunch = load_breast_cancer()
    features = list(bunch['feature_names'])

    # Create DataFrame
    data = pd.DataFrame(data=np.c_[bunch['data'], bunch['target']],
                        columns=features + ['target'])

    # Create X, y
    X = data[bunch['feature_names']]
    y = data['target']

    # Filter
    X = X.iloc[:500, :3]
    y = y.iloc[:500]


    # Split dataset
    X_train, X_test, y_train, y_test = \
        train_test_split(X, y, random_state=seed)


    # ----------------------------------------
    # Classifiers
    # ----------------------------------------
    # Train classifier
    gnb = GaussianNB()
    llr = LogisticRegression()
    dtc = DecisionTreeClassifier(random_state=seed)
    rfc = RandomForestClassifier(random_state=seed)
    xgb = XGBClassifier(
        min_child_weight=0.005,
        eta= 0.05, gamma= 0.2,
        max_depth= 4,
        n_estimators= 100)
    ann = MLPClassifier()
    svm = SVC(probability=True)
    etc = ExtraTreesClassifier()

    # List
    clfs = [gnb, llr, dtc, rfc, xgb, ann, svm, etc]
    #clfs = [svm, dtc]

    # Fit
    for clf in clfs:
        clf.fit(X_train, y_train)

    # ----------------------------------------
    # Find shap values
    # ----------------------------------------
    # Possible explainers:
    #    - shap.DeepExplainer
    #    - shap.KernelExplainer
    #    - shap.TreeExplainer
    #    - shap.LinearExplainer
    #    - shap.Exact
    #    - shap.Explainer

    # Import
    import shap

    # Initialise
    shap.initjs()


    def predict_proba(x):
        return clf.predict_proba(x)[:, 1]

    # Loop
    for clf in clfs:

        try:
            # Show classifier
            print("\n" + '-'*80)
            print("Classifier: %s" % clf)

            """
            # Create shap explainer
            if isinstance(clf,
                (DecisionTreeClassifier,
                 ExtraTreesClassifier,
                 XGBClassifier)):
                # Set Tree explainer
                explainer = shap.TreeExplainer(clf)
            elif isinstance(clf, LogisticRegression):
                # Masker
                masker = shap.maskers.Independent(X_train, max_samples=100)
                # Set Linear explainer
                #explainer = shap.LinearExplainer(predict_proba)#, masker)
                explainer = shap.Explainer(predict_proba, masker)
            elif isinstance(clf, int):
                # Set NN explainer
                explainer = shap.DeepExplainer(clf)
            else:
                # Works for [svc]
                # If too many examples (pass aux to explainer).
                aux = shap.sample(X_train, 100)
                # Set generic kernel explainer
                explainer = shap.KernelExplainer(predict_proba, aux)
            """

            # Sample to speed up processing.
            sample = shap.sample(X_train, 100)

            if isinstance(clf, XGBClassifier):
                # Works for [llr, dtc, etc, xgb]
                explainer = shap.Explainer(clf, sample)
            else:
                # Works for all but [xgb]
                explainer = shap.KernelExplainer(predict_proba, sample)

            # Show kernel type
            print("Kernel type: %s" % type(explainer))

            # Get shap values
            #shap_values = explainer(X)
            shap_values = explainer.shap_values(X_train)

            # Show information
            print("base value: %s" % \
                  explainer.expected_value)
            #print("shap_values: %s" % \
            #      str(shap_values.shape))

            # Summary plot
            plt.figure()
            plot_summary = shap.summary_plot( \
                explainer.shap_values(X_train),
                X_train, cmap='viridis',
                show=False)

            # Format
            plt.title(clf.__class__.__name__)
            plt.tight_layout()

        except Exception as e:
            print("Error: %s" % e)

    # Show
    plt.show()


.. rst-class:: sphx-glr-timing

   **Total running time of the script:** ( 1 minutes  14.301 seconds)


.. _sphx_glr_download__examples_shap-examples_plot_main02.py:


.. only :: html

 .. container:: sphx-glr-footer
    :class: sphx-glr-footer-example



  .. container:: sphx-glr-download sphx-glr-download-python

     :download:`Download Python source code: plot_main02.py <plot_main02.py>`



  .. container:: sphx-glr-download sphx-glr-download-jupyter

     :download:`Download Jupyter notebook: plot_main02.ipynb <plot_main02.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
