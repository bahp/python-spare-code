
.. DO NOT EDIT.
.. THIS FILE WAS AUTOMATICALLY GENERATED BY SPHINX-GALLERY.
.. TO MAKE CHANGES, EDIT THE SOURCE PYTHON FILE:
.. "_examples\shap-examples\plot_main02.py"
.. LINE NUMBERS ARE GIVEN BELOW.

.. only:: html

    .. note::
        :class: sphx-glr-download-link-note

        Click :ref:`here <sphx_glr_download__examples_shap-examples_plot_main02.py>`
        to download the full example code

.. rst-class:: sphx-glr-example-title

.. _sphx_glr__examples_shap-examples_plot_main02.py:


Shap - Main 02
==============

.. GENERATED FROM PYTHON SOURCE LINES 6-177



.. rst-class:: sphx-glr-horizontal


    *

      .. image-sg:: /_examples/shap-examples/images/sphx_glr_plot_main02_001.png
         :alt: GaussianNB
         :srcset: /_examples/shap-examples/images/sphx_glr_plot_main02_001.png
         :class: sphx-glr-multi-img

    *

      .. image-sg:: /_examples/shap-examples/images/sphx_glr_plot_main02_002.png
         :alt: LogisticRegression
         :srcset: /_examples/shap-examples/images/sphx_glr_plot_main02_002.png
         :class: sphx-glr-multi-img

    *

      .. image-sg:: /_examples/shap-examples/images/sphx_glr_plot_main02_003.png
         :alt: DecisionTreeClassifier
         :srcset: /_examples/shap-examples/images/sphx_glr_plot_main02_003.png
         :class: sphx-glr-multi-img

    *

      .. image-sg:: /_examples/shap-examples/images/sphx_glr_plot_main02_004.png
         :alt: RandomForestClassifier
         :srcset: /_examples/shap-examples/images/sphx_glr_plot_main02_004.png
         :class: sphx-glr-multi-img

    *

      .. image-sg:: /_examples/shap-examples/images/sphx_glr_plot_main02_005.png
         :alt: XGBClassifier
         :srcset: /_examples/shap-examples/images/sphx_glr_plot_main02_005.png
         :class: sphx-glr-multi-img

    *

      .. image-sg:: /_examples/shap-examples/images/sphx_glr_plot_main02_006.png
         :alt: MLPClassifier
         :srcset: /_examples/shap-examples/images/sphx_glr_plot_main02_006.png
         :class: sphx-glr-multi-img

    *

      .. image-sg:: /_examples/shap-examples/images/sphx_glr_plot_main02_007.png
         :alt: SVC
         :srcset: /_examples/shap-examples/images/sphx_glr_plot_main02_007.png
         :class: sphx-glr-multi-img

    *

      .. image-sg:: /_examples/shap-examples/images/sphx_glr_plot_main02_008.png
         :alt: ExtraTreesClassifier
         :srcset: /_examples/shap-examples/images/sphx_glr_plot_main02_008.png
         :class: sphx-glr-multi-img


.. rst-class:: sphx-glr-script-out

 Out:

 .. code-block:: none

    Feature names only support names that are all strings. Got feature names with dtypes: ['str_']. An error will be raised in 1.2.
    Feature names only support names that are all strings. Got feature names with dtypes: ['str_']. An error will be raised in 1.2.
    Feature names only support names that are all strings. Got feature names with dtypes: ['str_']. An error will be raised in 1.2.
    Feature names only support names that are all strings. Got feature names with dtypes: ['str_']. An error will be raised in 1.2.
    The use of label encoder in XGBClassifier is deprecated and will be removed in a future release. To remove this warning, do the following: 1) Pass option use_label_encoder=False when constructing XGBClassifier object; and 2) Encode your labels (y) as integers starting with 0, i.e. 0, 1, 2, ..., [num_class - 1].
    [15:15:24] WARNING: C:/Users/Administrator/workspace/xgboost-win64_release_1.5.1/src/learner.cc:1115: Starting in XGBoost 1.3.0, the default evaluation metric used with the objective 'binary:logistic' was changed from 'error' to 'logloss'. Explicitly set eval_metric if you'd like to restore the old behavior.
    Feature names only support names that are all strings. Got feature names with dtypes: ['str_']. An error will be raised in 1.2.
    Stochastic Optimizer: Maximum iterations (200) reached and the optimization hasn't converged yet.
    Feature names only support names that are all strings. Got feature names with dtypes: ['str_']. An error will be raised in 1.2.
    Feature names only support names that are all strings. Got feature names with dtypes: ['str_']. An error will be raised in 1.2.
    <IPython.core.display.HTML object>

    --------------------------------------------------------------------------------
    Classifier: GaussianNB()
    Kernel type: <class 'shap.explainers._kernel.Kernel'>
      0%|                                                                                                                                                                           | 0/375 [00:00<?, ?it/s]      3%|#####1                                                                                                                                                           | 12/375 [00:00<00:03, 118.81it/s]      6%|##########3                                                                                                                                                      | 24/375 [00:00<00:02, 118.12it/s]     10%|###############4                                                                                                                                                 | 36/375 [00:00<00:02, 118.44it/s]     13%|####################6                                                                                                                                            | 48/375 [00:00<00:02, 117.21it/s]     16%|#########################7                                                                                                                                       | 60/375 [00:00<00:02, 117.16it/s]     19%|##############################9                                                                                                                                  | 72/375 [00:00<00:02, 116.55it/s]     22%|####################################                                                                                                                             | 84/375 [00:00<00:02, 117.28it/s]     26%|#########################################2                                                                                                                       | 96/375 [00:00<00:02, 117.76it/s]     29%|##############################################                                                                                                                  | 108/375 [00:00<00:02, 118.09it/s]     32%|###################################################2                                                                                                            | 120/375 [00:01<00:02, 118.13it/s]     35%|########################################################3                                                                                                       | 132/375 [00:01<00:02, 118.34it/s]     38%|#############################################################4                                                                                                  | 144/375 [00:01<00:01, 118.13it/s]     42%|##################################################################5                                                                                             | 156/375 [00:01<00:01, 116.59it/s]     45%|#######################################################################6                                                                                        | 168/375 [00:01<00:01, 107.13it/s]     48%|############################################################################8                                                                                   | 180/375 [00:01<00:01, 109.80it/s]     51%|#################################################################################9                                                                              | 192/375 [00:01<00:01, 111.11it/s]     54%|#######################################################################################                                                                         | 204/375 [00:01<00:01, 113.32it/s]     58%|############################################################################################1                                                                   | 216/375 [00:01<00:01, 114.92it/s]     61%|#################################################################################################2                                                              | 228/375 [00:01<00:01, 115.71it/s]     64%|######################################################################################################4                                                         | 240/375 [00:02<00:01, 116.63it/s]     67%|###########################################################################################################9                                                    | 253/375 [00:02<00:01, 117.45it/s]     71%|#################################################################################################################                                               | 265/375 [00:02<00:00, 117.64it/s]     74%|######################################################################################################################1                                         | 277/375 [00:02<00:00, 118.33it/s]     77%|###########################################################################################################################3                                    | 289/375 [00:02<00:00, 117.51it/s]     80%|################################################################################################################################4                               | 301/375 [00:02<00:00, 117.90it/s]     83%|#####################################################################################################################################5                          | 313/375 [00:02<00:00, 117.48it/s]     87%|##########################################################################################################################################6                     | 325/375 [00:02<00:00, 116.84it/s]     90%|###############################################################################################################################################7                | 337/375 [00:02<00:00, 117.43it/s]     93%|####################################################################################################################################################9           | 349/375 [00:02<00:00, 117.60it/s]     96%|##########################################################################################################################################################      | 361/375 [00:03<00:00, 117.96it/s]    100%|###############################################################################################################################################################5| 374/375 [00:03<00:00, 118.37it/s]    100%|################################################################################################################################################################| 375/375 [00:03<00:00, 116.56it/s]
    [[-0.2143723  -0.19038141 -0.22085071]
     [ 0.15549902  0.04950881  0.16806476]
     [-0.31382936  0.06041049 -0.31223003]
     ...
     [-0.10057844  0.0701043  -0.13986502]
     [ 0.14968807  0.0257892   0.15703457]
     [-0.19725508  0.15063206 -0.2459545 ]]
    base value: 0.6256054145239283
      0%|                                                                                                                                                                           | 0/375 [00:00<?, ?it/s]      3%|#####1                                                                                                                                                           | 12/375 [00:00<00:03, 118.81it/s]      7%|##########7                                                                                                                                                      | 25/375 [00:00<00:02, 119.09it/s]     10%|###############8                                                                                                                                                 | 37/375 [00:00<00:02, 118.60it/s]     13%|#####################                                                                                                                                            | 49/375 [00:00<00:02, 117.78it/s]     16%|##########################1                                                                                                                                      | 61/375 [00:00<00:02, 118.14it/s]     19%|###############################3                                                                                                                                 | 73/375 [00:00<00:02, 117.20it/s]     23%|####################################4                                                                                                                            | 85/375 [00:00<00:02, 117.34it/s]     26%|#########################################6                                                                                                                       | 97/375 [00:00<00:02, 117.71it/s]     29%|##############################################5                                                                                                                 | 109/375 [00:00<00:02, 118.05it/s]     32%|###################################################6                                                                                                            | 121/375 [00:01<00:02, 118.29it/s]     35%|########################################################7                                                                                                       | 133/375 [00:01<00:02, 118.45it/s]     39%|#############################################################8                                                                                                  | 145/375 [00:01<00:01, 118.56it/s]     42%|##################################################################9                                                                                             | 157/375 [00:01<00:01, 118.89it/s]     45%|########################################################################1                                                                                       | 169/375 [00:01<00:01, 117.81it/s]     49%|#############################################################################6                                                                                  | 182/375 [00:01<00:01, 118.27it/s]     52%|##################################################################################7                                                                             | 194/375 [00:01<00:01, 118.09it/s]     55%|#######################################################################################8                                                                        | 206/375 [00:01<00:01, 117.27it/s]     58%|#############################################################################################                                                                   | 218/375 [00:01<00:01, 117.56it/s]     61%|##################################################################################################1                                                             | 230/375 [00:01<00:01, 117.93it/s]     65%|#######################################################################################################2                                                        | 242/375 [00:02<00:01, 118.54it/s]     68%|############################################################################################################3                                                   | 254/375 [00:02<00:01, 118.62it/s]     71%|#################################################################################################################4                                              | 266/375 [00:02<00:00, 118.68it/s]     74%|######################################################################################################################6                                         | 278/375 [00:02<00:00, 118.81it/s]     77%|###########################################################################################################################7                                    | 290/375 [00:02<00:00, 118.46it/s]     81%|################################################################################################################################8                               | 302/375 [00:02<00:00, 117.87it/s]     84%|#####################################################################################################################################9                          | 314/375 [00:02<00:00, 118.15it/s]     87%|###########################################################################################################################################                     | 326/375 [00:02<00:00, 118.35it/s]     90%|################################################################################################################################################2               | 338/375 [00:02<00:00, 117.23it/s]     93%|#####################################################################################################################################################3          | 350/375 [00:02<00:00, 117.70it/s]     97%|##########################################################################################################################################################4     | 362/375 [00:03<00:00, 118.03it/s]    100%|###############################################################################################################################################################5| 374/375 [00:03<00:00, 118.27it/s]    100%|################################################################################################################################################################| 375/375 [00:03<00:00, 118.11it/s]

    --------------------------------------------------------------------------------
    Classifier: LogisticRegression()
    Kernel type: <class 'shap.explainers._kernel.Kernel'>
      0%|                                                                                                                                                                           | 0/375 [00:00<?, ?it/s]      3%|#####5                                                                                                                                                           | 13/375 [00:00<00:02, 121.65it/s]      7%|###########1                                                                                                                                                     | 26/375 [00:00<00:02, 122.23it/s]     10%|################7                                                                                                                                                | 39/375 [00:00<00:02, 120.35it/s]     14%|######################3                                                                                                                                          | 52/375 [00:00<00:02, 120.80it/s]     17%|###########################9                                                                                                                                     | 65/375 [00:00<00:02, 121.46it/s]     21%|#################################4                                                                                                                               | 78/375 [00:00<00:02, 120.50it/s]     24%|#######################################                                                                                                                          | 91/375 [00:00<00:02, 120.46it/s]     28%|############################################3                                                                                                                   | 104/375 [00:00<00:02, 121.14it/s]     31%|#################################################9                                                                                                              | 117/375 [00:00<00:02, 121.25it/s]     35%|#######################################################4                                                                                                        | 130/375 [00:01<00:02, 121.33it/s]     38%|#############################################################                                                                                                   | 143/375 [00:01<00:01, 121.51it/s]     42%|##################################################################5                                                                                             | 156/375 [00:01<00:01, 121.85it/s]     45%|########################################################################1                                                                                       | 169/375 [00:01<00:01, 121.06it/s]     49%|#############################################################################6                                                                                  | 182/375 [00:01<00:01, 121.53it/s]     52%|###################################################################################2                                                                            | 195/375 [00:01<00:01, 121.72it/s]     55%|########################################################################################7                                                                       | 208/375 [00:01<00:01, 120.97it/s]     59%|##############################################################################################2                                                                 | 221/375 [00:01<00:01, 120.45it/s]     62%|###################################################################################################8                                                            | 234/375 [00:01<00:01, 120.76it/s]     66%|#########################################################################################################3                                                      | 247/375 [00:02<00:01, 121.32it/s]     69%|##############################################################################################################9                                                 | 260/375 [00:02<00:00, 121.15it/s]     73%|####################################################################################################################4                                           | 273/375 [00:02<00:00, 121.60it/s]     76%|##########################################################################################################################                                      | 286/375 [00:02<00:00, 121.57it/s]     80%|###############################################################################################################################5                                | 299/375 [00:02<00:00, 120.53it/s]     83%|#####################################################################################################################################1                          | 312/375 [00:02<00:00, 120.89it/s]     87%|##########################################################################################################################################6                     | 325/375 [00:02<00:00, 121.15it/s]     90%|################################################################################################################################################2               | 338/375 [00:02<00:00, 120.58it/s]     94%|#####################################################################################################################################################7          | 351/375 [00:02<00:00, 120.18it/s]     97%|###########################################################################################################################################################3    | 364/375 [00:03<00:00, 120.91it/s]    100%|################################################################################################################################################################| 375/375 [00:03<00:00, 121.10it/s]
    [[ 0.11805943 -0.19497642 -0.52694509]
     [-0.25974175  0.04205357  0.61331924]
     [ 0.11618402  0.09841558 -0.37862677]
     ...
     [-0.01411525  0.04658801 -0.35991104]
     [ 0.06238287  0.02752441  0.09341777]
     [ 0.03816372  0.14229031 -0.38919416]]
    base value: 0.6042417816207093
      0%|                                                                                                                                                                           | 0/375 [00:00<?, ?it/s]      3%|#####5                                                                                                                                                           | 13/375 [00:00<00:02, 120.78it/s]      7%|###########1                                                                                                                                                     | 26/375 [00:00<00:02, 121.87it/s]     10%|################7                                                                                                                                                | 39/375 [00:00<00:02, 121.18it/s]     14%|######################3                                                                                                                                          | 52/375 [00:00<00:02, 120.42it/s]     17%|###########################9                                                                                                                                     | 65/375 [00:00<00:02, 120.29it/s]     21%|#################################4                                                                                                                               | 78/375 [00:00<00:02, 120.23it/s]     24%|#######################################                                                                                                                          | 91/375 [00:00<00:02, 120.27it/s]     28%|############################################3                                                                                                                   | 104/375 [00:00<00:02, 119.60it/s]     31%|#################################################9                                                                                                              | 117/375 [00:00<00:02, 119.84it/s]     35%|#######################################################4                                                                                                        | 130/375 [00:01<00:02, 120.38it/s]     38%|#############################################################                                                                                                   | 143/375 [00:01<00:01, 120.03it/s]     42%|##################################################################5                                                                                             | 156/375 [00:01<00:01, 120.48it/s]     45%|########################################################################1                                                                                       | 169/375 [00:01<00:01, 120.44it/s]     49%|#############################################################################6                                                                                  | 182/375 [00:01<00:01, 120.09it/s]     52%|###################################################################################2                                                                            | 195/375 [00:01<00:01, 120.08it/s]     55%|########################################################################################7                                                                       | 208/375 [00:01<00:01, 120.50it/s]     59%|##############################################################################################2                                                                 | 221/375 [00:01<00:01, 121.14it/s]     62%|###################################################################################################8                                                            | 234/375 [00:01<00:01, 119.67it/s]     66%|#########################################################################################################3                                                      | 247/375 [00:02<00:01, 120.21it/s]     69%|##############################################################################################################9                                                 | 260/375 [00:02<00:00, 120.71it/s]     73%|####################################################################################################################4                                           | 273/375 [00:02<00:00, 120.61it/s]     76%|##########################################################################################################################                                      | 286/375 [00:02<00:00, 120.87it/s]     80%|###############################################################################################################################5                                | 299/375 [00:02<00:00, 120.72it/s]     83%|#####################################################################################################################################1                          | 312/375 [00:02<00:00, 120.39it/s]     87%|##########################################################################################################################################6                     | 325/375 [00:02<00:00, 120.72it/s]     90%|################################################################################################################################################2               | 338/375 [00:02<00:00, 120.75it/s]     94%|#####################################################################################################################################################7          | 351/375 [00:02<00:00, 120.97it/s]     97%|###########################################################################################################################################################3    | 364/375 [00:03<00:00, 119.79it/s]    100%|################################################################################################################################################################| 375/375 [00:03<00:00, 120.41it/s]

    --------------------------------------------------------------------------------
    Classifier: DecisionTreeClassifier(random_state=0)
    Kernel type: <class 'shap.explainers._kernel.Kernel'>
      0%|                                                                                                                                                                           | 0/375 [00:00<?, ?it/s]      3%|#####5                                                                                                                                                           | 13/375 [00:00<00:02, 121.50it/s]      7%|###########1                                                                                                                                                     | 26/375 [00:00<00:02, 121.50it/s]     10%|################7                                                                                                                                                | 39/375 [00:00<00:02, 121.50it/s]     14%|######################3                                                                                                                                          | 52/375 [00:00<00:02, 120.05it/s]     17%|###########################9                                                                                                                                     | 65/375 [00:00<00:02, 120.97it/s]     21%|#################################4                                                                                                                               | 78/375 [00:00<00:02, 121.15it/s]     24%|#######################################                                                                                                                          | 91/375 [00:00<00:02, 120.89it/s]     28%|############################################3                                                                                                                   | 104/375 [00:00<00:02, 120.73it/s]     31%|#################################################9                                                                                                              | 117/375 [00:00<00:02, 119.51it/s]     35%|#######################################################4                                                                                                        | 130/375 [00:01<00:02, 120.11it/s]     38%|#############################################################                                                                                                   | 143/375 [00:01<00:01, 120.88it/s]     42%|##################################################################5                                                                                             | 156/375 [00:01<00:01, 120.85it/s]     45%|########################################################################1                                                                                       | 169/375 [00:01<00:01, 120.03it/s]     49%|#############################################################################6                                                                                  | 182/375 [00:01<00:01, 119.23it/s]     52%|###################################################################################2                                                                            | 195/375 [00:01<00:01, 120.24it/s]     55%|########################################################################################7                                                                       | 208/375 [00:01<00:01, 120.61it/s]     59%|##############################################################################################2                                                                 | 221/375 [00:01<00:01, 120.88it/s]     62%|###################################################################################################8                                                            | 234/375 [00:01<00:01, 120.93it/s]     66%|#########################################################################################################3                                                      | 247/375 [00:02<00:01, 118.28it/s]     69%|##############################################################################################################9                                                 | 260/375 [00:02<00:00, 118.90it/s]     73%|####################################################################################################################4                                           | 273/375 [00:02<00:00, 119.67it/s]     76%|##########################################################################################################################                                      | 286/375 [00:02<00:00, 120.21it/s]     80%|###############################################################################################################################5                                | 299/375 [00:02<00:00, 120.14it/s]     83%|#####################################################################################################################################1                          | 312/375 [00:02<00:00, 119.88it/s]     87%|##########################################################################################################################################6                     | 325/375 [00:02<00:00, 120.36it/s]     90%|################################################################################################################################################2               | 338/375 [00:02<00:00, 121.03it/s]     94%|#####################################################################################################################################################7          | 351/375 [00:02<00:00, 121.17it/s]     97%|###########################################################################################################################################################3    | 364/375 [00:03<00:00, 121.03it/s]    100%|################################################################################################################################################################| 375/375 [00:03<00:00, 120.36it/s]
    [[ 0.02166667 -0.02333333 -0.58833333]
     [-0.01333333  0.08666667  0.33666667]
     [ 0.02166667  0.43166667 -0.04333333]
     ...
     [ 0.02166667 -0.11833333 -0.49333333]
     [-0.36333333 -0.07833333 -0.14833333]
     [ 0.02166667  0.06666667 -0.67833333]]
    base value: 0.5900000000000001
      0%|                                                                                                                                                                           | 0/375 [00:00<?, ?it/s]      3%|#####5                                                                                                                                                           | 13/375 [00:00<00:02, 121.50it/s]      7%|###########1                                                                                                                                                     | 26/375 [00:00<00:02, 121.50it/s]     10%|################7                                                                                                                                                | 39/375 [00:00<00:02, 121.50it/s]     14%|######################3                                                                                                                                          | 52/375 [00:00<00:02, 120.23it/s]     17%|###########################9                                                                                                                                     | 65/375 [00:00<00:02, 119.88it/s]     21%|#################################4                                                                                                                               | 78/375 [00:00<00:02, 120.80it/s]     24%|#######################################                                                                                                                          | 91/375 [00:00<00:02, 121.03it/s]     28%|############################################3                                                                                                                   | 104/375 [00:00<00:02, 120.98it/s]     31%|#################################################9                                                                                                              | 117/375 [00:00<00:02, 121.09it/s]     35%|#######################################################4                                                                                                        | 130/375 [00:01<00:02, 120.18it/s]     38%|#############################################################                                                                                                   | 143/375 [00:01<00:01, 120.24it/s]     42%|##################################################################5                                                                                             | 156/375 [00:01<00:01, 120.62it/s]     45%|########################################################################1                                                                                       | 169/375 [00:01<00:01, 120.66it/s]     49%|#############################################################################6                                                                                  | 182/375 [00:01<00:01, 120.24it/s]     52%|###################################################################################2                                                                            | 195/375 [00:01<00:01, 120.28it/s]     55%|########################################################################################7                                                                       | 208/375 [00:01<00:01, 120.64it/s]     59%|##############################################################################################2                                                                 | 221/375 [00:01<00:01, 120.90it/s]     62%|###################################################################################################8                                                            | 234/375 [00:01<00:01, 120.95it/s]     66%|#########################################################################################################3                                                      | 247/375 [00:02<00:01, 121.12it/s]     69%|##############################################################################################################9                                                 | 260/375 [00:02<00:00, 120.22it/s]     73%|####################################################################################################################4                                           | 273/375 [00:02<00:00, 120.26it/s]     76%|##########################################################################################################################                                      | 286/375 [00:02<00:00, 120.63it/s]     80%|###############################################################################################################################5                                | 299/375 [00:02<00:00, 120.66it/s]     83%|#####################################################################################################################################1                          | 312/375 [00:02<00:00, 119.91it/s]     87%|##########################################################################################################################################6                     | 325/375 [00:02<00:00, 120.38it/s]     90%|################################################################################################################################################2               | 338/375 [00:02<00:00, 120.71it/s]     94%|#####################################################################################################################################################7          | 351/375 [00:02<00:00, 120.68it/s]     97%|###########################################################################################################################################################3    | 364/375 [00:03<00:00, 120.92it/s]    100%|################################################################################################################################################################| 375/375 [00:03<00:00, 120.66it/s]

    --------------------------------------------------------------------------------
    Classifier: RandomForestClassifier(random_state=0)
    Kernel type: <class 'shap.explainers._kernel.Kernel'>
      0%|                                                                                                                                                                           | 0/375 [00:00<?, ?it/s]      1%|#7                                                                                                                                                                 | 4/375 [00:00<00:09, 39.22it/s]      2%|###9                                                                                                                                                               | 9/375 [00:00<00:09, 39.85it/s]      4%|######                                                                                                                                                            | 14/375 [00:00<00:08, 40.33it/s]      5%|########2                                                                                                                                                         | 19/375 [00:00<00:08, 39.94it/s]      6%|##########3                                                                                                                                                       | 24/375 [00:00<00:08, 40.20it/s]      8%|############5                                                                                                                                                     | 29/375 [00:00<00:08, 40.35it/s]      9%|##############6                                                                                                                                                   | 34/375 [00:00<00:08, 40.48it/s]     10%|################8                                                                                                                                                 | 39/375 [00:00<00:08, 40.33it/s]     12%|###################                                                                                                                                               | 44/375 [00:01<00:08, 40.33it/s]     13%|#####################1                                                                                                                                            | 49/375 [00:01<00:08, 39.93it/s]     14%|#######################3                                                                                                                                          | 54/375 [00:01<00:08, 39.98it/s]     16%|#########################4                                                                                                                                        | 59/375 [00:01<00:07, 40.18it/s]     17%|###########################6                                                                                                                                      | 64/375 [00:01<00:07, 39.74it/s]     18%|#############################8                                                                                                                                    | 69/375 [00:01<00:07, 40.01it/s]     20%|###############################9                                                                                                                                  | 74/375 [00:01<00:07, 40.12it/s]     21%|##################################1                                                                                                                               | 79/375 [00:01<00:07, 40.28it/s]     22%|####################################2                                                                                                                             | 84/375 [00:02<00:07, 40.39it/s]     24%|######################################4                                                                                                                           | 89/375 [00:02<00:07, 40.37it/s]     25%|########################################6                                                                                                                         | 94/375 [00:02<00:06, 40.39it/s]     26%|##########################################7                                                                                                                       | 99/375 [00:02<00:06, 40.47it/s]     28%|############################################6                                                                                                                    | 104/375 [00:02<00:06, 39.85it/s]     29%|##############################################7                                                                                                                  | 109/375 [00:02<00:06, 40.08it/s]     30%|################################################9                                                                                                                | 114/375 [00:02<00:06, 40.18it/s]     32%|###################################################                                                                                                              | 119/375 [00:02<00:06, 40.32it/s]     33%|#####################################################2                                                                                                           | 124/375 [00:03<00:06, 40.42it/s]     34%|#######################################################3                                                                                                         | 129/375 [00:03<00:06, 40.49it/s]     36%|#########################################################5                                                                                                       | 134/375 [00:03<00:06, 40.13it/s]     37%|###########################################################6                                                                                                     | 139/375 [00:03<00:05, 40.28it/s]     38%|#############################################################8                                                                                                   | 144/375 [00:03<00:05, 40.39it/s]     40%|###############################################################9                                                                                                 | 149/375 [00:03<00:05, 39.42it/s]     41%|#################################################################6                                                                                               | 153/375 [00:03<00:05, 39.30it/s]     42%|###################################################################4                                                                                             | 157/375 [00:03<00:05, 39.38it/s]     43%|#####################################################################1                                                                                           | 161/375 [00:04<00:05, 39.33it/s]     44%|#######################################################################2                                                                                         | 166/375 [00:04<00:05, 39.66it/s]     45%|########################################################################9                                                                                        | 170/375 [00:04<00:05, 39.75it/s]     46%|##########################################################################7                                                                                      | 174/375 [00:04<00:05, 39.53it/s]     47%|############################################################################4                                                                                    | 178/375 [00:04<00:05, 39.00it/s]     49%|##############################################################################1                                                                                  | 182/375 [00:04<00:04, 39.28it/s]     50%|################################################################################2                                                                                | 187/375 [00:04<00:04, 39.42it/s]     51%|##################################################################################                                                                               | 191/375 [00:04<00:04, 39.58it/s]     52%|####################################################################################1                                                                            | 196/375 [00:04<00:04, 40.05it/s]     54%|######################################################################################2                                                                          | 201/375 [00:05<00:04, 40.35it/s]     55%|########################################################################################4                                                                        | 206/375 [00:05<00:04, 40.44it/s]     56%|##########################################################################################5                                                                      | 211/375 [00:05<00:04, 40.41it/s]     58%|############################################################################################7                                                                    | 216/375 [00:05<00:03, 40.52it/s]     59%|##############################################################################################8                                                                  | 221/375 [00:05<00:03, 40.06it/s]     60%|#################################################################################################                                                                | 226/375 [00:05<00:03, 39.95it/s]     61%|##################################################################################################7                                                              | 230/375 [00:05<00:03, 39.65it/s]     62%|####################################################################################################4                                                            | 234/375 [00:05<00:03, 39.73it/s]     64%|######################################################################################################6                                                          | 239/375 [00:05<00:03, 39.92it/s]     65%|########################################################################################################7                                                        | 244/375 [00:06<00:03, 40.25it/s]     66%|##########################################################################################################9                                                      | 249/375 [00:06<00:03, 40.38it/s]     68%|#############################################################################################################                                                    | 254/375 [00:06<00:02, 40.46it/s]     69%|###############################################################################################################1                                                 | 259/375 [00:06<00:02, 40.59it/s]     70%|#################################################################################################################3                                               | 264/375 [00:06<00:02, 40.31it/s]     72%|###################################################################################################################4                                             | 269/375 [00:06<00:02, 40.31it/s]     73%|#####################################################################################################################6                                           | 274/375 [00:06<00:02, 39.73it/s]     74%|#######################################################################################################################7                                         | 279/375 [00:06<00:02, 39.93it/s]     76%|#########################################################################################################################9                                       | 284/375 [00:07<00:02, 40.15it/s]     77%|############################################################################################################################                                     | 289/375 [00:07<00:02, 40.30it/s]     78%|##############################################################################################################################2                                  | 294/375 [00:07<00:01, 40.50it/s]     80%|################################################################################################################################3                                | 299/375 [00:07<00:01, 40.51it/s]     81%|##################################################################################################################################5                              | 304/375 [00:07<00:01, 40.55it/s]     82%|####################################################################################################################################6                            | 309/375 [00:07<00:01, 40.09it/s]     84%|######################################################################################################################################8                          | 314/375 [00:07<00:01, 40.16it/s]     85%|########################################################################################################################################9                        | 319/375 [00:07<00:01, 39.92it/s]     86%|###########################################################################################################################################1                     | 324/375 [00:08<00:01, 40.33it/s]     88%|#############################################################################################################################################2                   | 329/375 [00:08<00:01, 40.42it/s]     89%|###############################################################################################################################################3                 | 334/375 [00:08<00:01, 40.30it/s]     90%|#################################################################################################################################################5               | 339/375 [00:08<00:00, 40.32it/s]     92%|###################################################################################################################################################6             | 344/375 [00:08<00:00, 40.42it/s]     93%|#####################################################################################################################################################8           | 349/375 [00:08<00:00, 40.49it/s]     94%|#######################################################################################################################################################9         | 354/375 [00:08<00:00, 40.24it/s]     96%|##########################################################################################################################################################1      | 359/375 [00:08<00:00, 39.85it/s]     97%|############################################################################################################################################################2    | 364/375 [00:09<00:00, 40.18it/s]     98%|##############################################################################################################################################################4  | 369/375 [00:09<00:00, 40.22it/s]    100%|################################################################################################################################################################5| 374/375 [00:09<00:00, 40.45it/s]    100%|#################################################################################################################################################################| 375/375 [00:09<00:00, 40.12it/s]
    [[-0.1986     -0.0435     -0.346     ]
     [ 0.09825     0.07475     0.2289    ]
     [-0.0143      0.2767     -0.1405    ]
     ...
     [-0.01326667 -0.01676667 -0.29806667]
     [-0.05613333 -0.14933333 -0.04263333]
     [-0.21108333  0.10386667 -0.35088333]]
    base value: 0.5881000000000001
      0%|                                                                                                                                                                           | 0/375 [00:00<?, ?it/s]      1%|##1                                                                                                                                                                | 5/375 [00:00<00:09, 40.73it/s]      3%|####3                                                                                                                                                             | 10/375 [00:00<00:09, 40.30it/s]      4%|######4                                                                                                                                                           | 15/375 [00:00<00:08, 40.46it/s]      5%|########6                                                                                                                                                         | 20/375 [00:00<00:08, 40.15it/s]      7%|##########8                                                                                                                                                       | 25/375 [00:00<00:08, 39.82it/s]      8%|############5                                                                                                                                                     | 29/375 [00:00<00:08, 39.46it/s]      9%|##############6                                                                                                                                                   | 34/375 [00:00<00:08, 39.86it/s]     10%|################8                                                                                                                                                 | 39/375 [00:00<00:08, 39.90it/s]     12%|###################                                                                                                                                               | 44/375 [00:01<00:08, 40.11it/s]     13%|#####################1                                                                                                                                            | 49/375 [00:01<00:08, 40.28it/s]     14%|#######################3                                                                                                                                          | 54/375 [00:01<00:07, 40.29it/s]     16%|#########################4                                                                                                                                        | 59/375 [00:01<00:07, 40.30it/s]     17%|###########################6                                                                                                                                      | 64/375 [00:01<00:07, 39.81it/s]     18%|#############################3                                                                                                                                    | 68/375 [00:01<00:07, 39.46it/s]     19%|###############################5                                                                                                                                  | 73/375 [00:01<00:07, 39.73it/s]     21%|#################################6                                                                                                                                | 78/375 [00:01<00:07, 40.01it/s]     22%|###################################8                                                                                                                              | 83/375 [00:02<00:07, 40.30it/s]     23%|######################################                                                                                                                            | 88/375 [00:02<00:07, 40.48it/s]     25%|########################################1                                                                                                                         | 93/375 [00:02<00:07, 40.14it/s]     26%|##########################################3                                                                                                                       | 98/375 [00:02<00:06, 40.19it/s]     27%|############################################2                                                                                                                    | 103/375 [00:02<00:06, 40.27it/s]     29%|##############################################3                                                                                                                  | 108/375 [00:02<00:06, 40.06it/s]     30%|################################################5                                                                                                                | 113/375 [00:02<00:06, 39.85it/s]     31%|##################################################6                                                                                                              | 118/375 [00:02<00:06, 40.09it/s]     33%|####################################################8                                                                                                            | 123/375 [00:03<00:06, 40.35it/s]     34%|######################################################9                                                                                                          | 128/375 [00:03<00:06, 40.42it/s]     35%|#########################################################1                                                                                                       | 133/375 [00:03<00:05, 40.39it/s]     37%|###########################################################2                                                                                                     | 138/375 [00:03<00:05, 40.47it/s]     38%|#############################################################3                                                                                                   | 143/375 [00:03<00:05, 40.52it/s]     39%|###############################################################5                                                                                                 | 148/375 [00:03<00:05, 40.57it/s]     41%|#################################################################6                                                                                               | 153/375 [00:03<00:05, 39.72it/s]     42%|###################################################################8                                                                                             | 158/375 [00:03<00:05, 39.84it/s]     43%|#####################################################################9                                                                                           | 163/375 [00:04<00:05, 40.18it/s]     45%|########################################################################1                                                                                        | 168/375 [00:04<00:05, 40.34it/s]     46%|##########################################################################2                                                                                      | 173/375 [00:04<00:04, 40.44it/s]     47%|############################################################################4                                                                                    | 178/375 [00:04<00:04, 40.40it/s]     49%|##############################################################################5                                                                                  | 183/375 [00:04<00:04, 40.48it/s]     50%|################################################################################7                                                                                | 188/375 [00:04<00:04, 40.45it/s]     51%|##################################################################################8                                                                              | 193/375 [00:04<00:04, 40.51it/s]     53%|#####################################################################################                                                                            | 198/375 [00:04<00:04, 39.97it/s]     54%|#######################################################################################1                                                                         | 203/375 [00:05<00:04, 40.17it/s]     55%|#########################################################################################3                                                                       | 208/375 [00:05<00:04, 40.37it/s]     57%|###########################################################################################4                                                                     | 213/375 [00:05<00:04, 40.36it/s]     58%|#############################################################################################5                                                                   | 218/375 [00:05<00:03, 40.35it/s]     59%|###############################################################################################7                                                                 | 223/375 [00:05<00:03, 40.44it/s]     61%|#################################################################################################8                                                               | 228/375 [00:05<00:03, 40.51it/s]     62%|####################################################################################################                                                             | 233/375 [00:05<00:03, 40.45it/s]     63%|######################################################################################################1                                                          | 238/375 [00:05<00:03, 40.02it/s]     65%|########################################################################################################3                                                        | 243/375 [00:06<00:03, 39.92it/s]     66%|##########################################################################################################4                                                      | 248/375 [00:06<00:03, 40.18it/s]     67%|############################################################################################################6                                                    | 253/375 [00:06<00:03, 40.40it/s]     69%|##############################################################################################################7                                                  | 258/375 [00:06<00:02, 40.67it/s]     70%|################################################################################################################9                                                | 263/375 [00:06<00:02, 40.57it/s]     71%|###################################################################################################################                                              | 268/375 [00:06<00:02, 40.59it/s]     73%|#####################################################################################################################2                                           | 273/375 [00:06<00:02, 40.50it/s]     74%|#######################################################################################################################3                                         | 278/375 [00:06<00:02, 40.54it/s]     75%|#########################################################################################################################5                                       | 283/375 [00:07<00:02, 39.70it/s]     77%|###########################################################################################################################6                                     | 288/375 [00:07<00:02, 39.98it/s]     78%|#############################################################################################################################7                                   | 293/375 [00:07<00:02, 40.01it/s]     79%|###############################################################################################################################9                                 | 298/375 [00:07<00:01, 40.20it/s]     81%|##################################################################################################################################                               | 303/375 [00:07<00:01, 39.47it/s]     82%|####################################################################################################################################2                            | 308/375 [00:07<00:01, 39.91it/s]     83%|######################################################################################################################################3                          | 313/375 [00:07<00:01, 40.17it/s]     85%|########################################################################################################################################5                        | 318/375 [00:07<00:01, 40.41it/s]     86%|##########################################################################################################################################6                      | 323/375 [00:08<00:01, 40.38it/s]     87%|############################################################################################################################################8                    | 328/375 [00:08<00:01, 39.90it/s]     89%|##############################################################################################################################################9                  | 333/375 [00:08<00:01, 39.96it/s]     90%|#################################################################################################################################################1               | 338/375 [00:08<00:00, 40.07it/s]     91%|###################################################################################################################################################2             | 343/375 [00:08<00:00, 40.24it/s]     93%|#####################################################################################################################################################4           | 348/375 [00:08<00:00, 40.56it/s]     94%|#######################################################################################################################################################5         | 353/375 [00:08<00:00, 40.61it/s]     95%|#########################################################################################################################################################7       | 358/375 [00:08<00:00, 40.42it/s]     97%|###########################################################################################################################################################8     | 363/375 [00:09<00:00, 40.49it/s]     98%|#############################################################################################################################################################9   | 368/375 [00:09<00:00, 40.15it/s]     99%|################################################################################################################################################################1| 373/375 [00:09<00:00, 39.80it/s]    100%|#################################################################################################################################################################| 375/375 [00:09<00:00, 40.19it/s]

    --------------------------------------------------------------------------------
    Classifier: XGBClassifier(base_score=0.5, booster='gbtree', colsample_bylevel=1,
                  colsample_bynode=1, colsample_bytree=1, enable_categorical=False,
                  eta=0.05, gamma=0.2, gpu_id=-1, importance_type=None,
                  interaction_constraints='', learning_rate=0.0500000007,
                  max_delta_step=0, max_depth=4, min_child_weight=0.005,
                  missing=nan, monotone_constraints='()', n_estimators=100,
                  n_jobs=8, num_parallel_tree=1, predictor='auto', random_state=0,
                  reg_alpha=0, reg_lambda=1, scale_pos_weight=1, subsample=1,
                  tree_method='exact', validate_parameters=1, verbosity=None)
    Kernel type: <class 'shap.explainers._tree.Tree'>
    [[-0.09027431 -0.58367383 -4.20171465]
     [-0.566376    0.93458731  3.56861343]
     [ 0.32619197  2.8111843  -2.96783778]
     ...
     [ 0.78497741 -0.03524856 -2.36360644]
     [ 0.24668202 -0.03663879  0.63015682]
     [ 0.2185051   1.57475921 -3.67290018]]
    base value: 0.3504104323204956

    --------------------------------------------------------------------------------
    Classifier: MLPClassifier()
    Kernel type: <class 'shap.explainers._kernel.Kernel'>
      0%|                                                                                                                                                                           | 0/375 [00:00<?, ?it/s]      3%|#####1                                                                                                                                                           | 12/375 [00:00<00:03, 114.29it/s]      6%|##########3                                                                                                                                                      | 24/375 [00:00<00:03, 114.93it/s]     10%|###############4                                                                                                                                                 | 36/375 [00:00<00:02, 114.63it/s]     13%|####################6                                                                                                                                            | 48/375 [00:00<00:02, 114.65it/s]     16%|#########################7                                                                                                                                       | 60/375 [00:00<00:02, 115.01it/s]     19%|##############################9                                                                                                                                  | 72/375 [00:00<00:02, 114.76it/s]     22%|####################################                                                                                                                             | 84/375 [00:00<00:02, 114.96it/s]     26%|#########################################2                                                                                                                       | 96/375 [00:00<00:02, 115.45it/s]     29%|##############################################                                                                                                                  | 108/375 [00:00<00:02, 114.74it/s]     32%|###################################################2                                                                                                            | 120/375 [00:01<00:02, 113.74it/s]     35%|########################################################3                                                                                                       | 132/375 [00:01<00:02, 113.58it/s]     38%|#############################################################4                                                                                                  | 144/375 [00:01<00:02, 114.12it/s]     42%|##################################################################5                                                                                             | 156/375 [00:01<00:01, 114.17it/s]     45%|#######################################################################6                                                                                        | 168/375 [00:01<00:01, 114.54it/s]     48%|############################################################################8                                                                                   | 180/375 [00:01<00:01, 114.91it/s]     51%|#################################################################################9                                                                              | 192/375 [00:01<00:01, 115.05it/s]     54%|#######################################################################################                                                                         | 204/375 [00:01<00:01, 114.82it/s]     58%|############################################################################################1                                                                   | 216/375 [00:01<00:01, 114.99it/s]     61%|#################################################################################################2                                                              | 228/375 [00:01<00:01, 114.78it/s]     64%|######################################################################################################4                                                         | 240/375 [00:02<00:01, 114.09it/s]     67%|###########################################################################################################5                                                    | 252/375 [00:02<00:01, 113.50it/s]     70%|################################################################################################################6                                               | 264/375 [00:02<00:00, 114.06it/s]     74%|#####################################################################################################################7                                          | 276/375 [00:02<00:00, 114.13it/s]     77%|##########################################################################################################################8                                     | 288/375 [00:02<00:00, 114.50it/s]     80%|################################################################################################################################                                | 300/375 [00:02<00:00, 114.66it/s]     83%|#####################################################################################################################################1                          | 312/375 [00:02<00:00, 114.88it/s]     86%|##########################################################################################################################################2                     | 324/375 [00:02<00:00, 115.03it/s]     90%|###############################################################################################################################################3                | 336/375 [00:02<00:00, 114.81it/s]     93%|####################################################################################################################################################4           | 348/375 [00:03<00:00, 114.67it/s]     96%|#########################################################################################################################################################6      | 360/375 [00:03<00:00, 114.03it/s]     99%|##############################################################################################################################################################7 | 372/375 [00:03<00:00, 113.78it/s]    100%|################################################################################################################################################################| 375/375 [00:03<00:00, 114.43it/s]
    [[ 0.1126982   0.26084342 -0.31412574]
     [-0.14961787 -0.070575    0.5005157 ]
     [ 0.0979817  -0.05547601 -0.25773652]
     ...
     [ 0.04402084 -0.03321305 -0.16234597]
     [-0.02509526 -0.00688601  0.08172779]
     [ 0.060516   -0.11881804 -0.25427028]]
    base value: 0.5699071702313964
      0%|                                                                                                                                                                           | 0/375 [00:00<?, ?it/s]      3%|#####1                                                                                                                                                           | 12/375 [00:00<00:03, 114.29it/s]      6%|##########3                                                                                                                                                      | 24/375 [00:00<00:03, 114.29it/s]     10%|###############4                                                                                                                                                 | 36/375 [00:00<00:02, 114.15it/s]     13%|####################6                                                                                                                                            | 48/375 [00:00<00:02, 114.14it/s]     16%|#########################7                                                                                                                                       | 60/375 [00:00<00:02, 114.58it/s]     19%|##############################9                                                                                                                                  | 72/375 [00:00<00:02, 114.48it/s]     22%|####################################                                                                                                                             | 84/375 [00:00<00:02, 114.42it/s]     26%|#########################################2                                                                                                                       | 96/375 [00:00<00:02, 113.11it/s]     29%|##############################################                                                                                                                  | 108/375 [00:00<00:02, 113.42it/s]     32%|###################################################2                                                                                                            | 120/375 [00:01<00:02, 113.69it/s]     35%|########################################################3                                                                                                       | 132/375 [00:01<00:02, 113.21it/s]     38%|#############################################################4                                                                                                  | 144/375 [00:01<00:02, 113.86it/s]     42%|##################################################################5                                                                                             | 156/375 [00:01<00:01, 113.83it/s]     45%|#######################################################################6                                                                                        | 168/375 [00:01<00:01, 113.96it/s]     48%|############################################################################8                                                                                   | 180/375 [00:01<00:01, 114.06it/s]     51%|#################################################################################9                                                                              | 192/375 [00:01<00:01, 114.13it/s]     54%|#######################################################################################                                                                         | 204/375 [00:01<00:01, 114.18it/s]     58%|############################################################################################1                                                                   | 216/375 [00:01<00:01, 114.04it/s]     61%|#################################################################################################2                                                              | 228/375 [00:02<00:01, 113.47it/s]     64%|######################################################################################################4                                                         | 240/375 [00:02<00:01, 113.84it/s]     67%|###########################################################################################################5                                                    | 252/375 [00:02<00:01, 112.93it/s]     70%|################################################################################################################6                                               | 264/375 [00:02<00:00, 113.66it/s]     74%|#####################################################################################################################7                                          | 276/375 [00:02<00:00, 113.85it/s]     77%|##########################################################################################################################8                                     | 288/375 [00:02<00:00, 114.63it/s]     80%|################################################################################################################################                                | 300/375 [00:02<00:00, 114.53it/s]     83%|#####################################################################################################################################1                          | 312/375 [00:02<00:00, 114.78it/s]     86%|##########################################################################################################################################2                     | 324/375 [00:02<00:00, 114.76it/s]     90%|###############################################################################################################################################3                | 336/375 [00:02<00:00, 114.62it/s]     93%|####################################################################################################################################################4           | 348/375 [00:03<00:00, 114.19it/s]     96%|#########################################################################################################################################################6      | 360/375 [00:03<00:00, 114.55it/s]     99%|##############################################################################################################################################################7 | 372/375 [00:03<00:00, 113.82it/s]    100%|################################################################################################################################################################| 375/375 [00:03<00:00, 114.03it/s]

    --------------------------------------------------------------------------------
    Classifier: SVC(probability=True)
    Kernel type: <class 'shap.explainers._kernel.Kernel'>
      0%|                                                                                                                                                                           | 0/375 [00:00<?, ?it/s]      2%|###4                                                                                                                                                               | 8/375 [00:00<00:05, 72.73it/s]      4%|######9                                                                                                                                                           | 16/375 [00:00<00:04, 72.73it/s]      6%|##########3                                                                                                                                                       | 24/375 [00:00<00:04, 72.73it/s]      9%|#############8                                                                                                                                                    | 32/375 [00:00<00:04, 72.73it/s]     11%|#################2                                                                                                                                                | 40/375 [00:00<00:04, 72.44it/s]     13%|####################7                                                                                                                                             | 48/375 [00:00<00:04, 72.32it/s]     15%|########################1                                                                                                                                         | 56/375 [00:00<00:04, 72.02it/s]     17%|###########################6                                                                                                                                      | 64/375 [00:00<00:04, 72.45it/s]     19%|###############################1                                                                                                                                  | 72/375 [00:00<00:04, 71.73it/s]     21%|##################################5                                                                                                                               | 80/375 [00:01<00:04, 72.03it/s]     23%|######################################                                                                                                                            | 88/375 [00:01<00:03, 72.24it/s]     26%|#########################################4                                                                                                                        | 96/375 [00:01<00:03, 72.39it/s]     28%|############################################6                                                                                                                    | 104/375 [00:01<00:03, 72.49it/s]     30%|################################################                                                                                                                 | 112/375 [00:01<00:03, 72.39it/s]     32%|###################################################5                                                                                                             | 120/375 [00:01<00:03, 72.49it/s]     34%|######################################################9                                                                                                          | 128/375 [00:01<00:03, 71.97it/s]     36%|##########################################################3                                                                                                      | 136/375 [00:01<00:03, 72.20it/s]     38%|#############################################################8                                                                                                   | 144/375 [00:01<00:03, 72.36it/s]     41%|#################################################################2                                                                                               | 152/375 [00:02<00:03, 71.73it/s]     43%|####################################################################6                                                                                            | 160/375 [00:02<00:02, 71.84it/s]     45%|########################################################################1                                                                                        | 168/375 [00:02<00:02, 72.10it/s]     47%|###########################################################################5                                                                                     | 176/375 [00:02<00:02, 72.29it/s]     49%|##############################################################################9                                                                                  | 184/375 [00:02<00:02, 72.26it/s]     51%|##################################################################################4                                                                              | 192/375 [00:02<00:02, 72.21it/s]     53%|#####################################################################################8                                                                           | 200/375 [00:02<00:02, 71.97it/s]     55%|#########################################################################################3                                                                       | 208/375 [00:02<00:02, 71.81it/s]     58%|############################################################################################7                                                                    | 216/375 [00:02<00:02, 72.08it/s]     60%|################################################################################################1                                                                | 224/375 [00:03<00:02, 72.13it/s]     62%|###################################################################################################6                                                             | 232/375 [00:03<00:01, 71.92it/s]     64%|#######################################################################################################                                                          | 240/375 [00:03<00:01, 71.96it/s]     66%|##########################################################################################################4                                                      | 248/375 [00:03<00:01, 72.19it/s]     68%|#############################################################################################################9                                                   | 256/375 [00:03<00:01, 72.39it/s]     70%|#################################################################################################################3                                               | 264/375 [00:03<00:01, 72.29it/s]     73%|####################################################################################################################7                                            | 272/375 [00:03<00:01, 72.50it/s]     75%|########################################################################################################################2                                        | 280/375 [00:03<00:01, 71.98it/s]     77%|###########################################################################################################################6                                     | 288/375 [00:03<00:01, 72.40it/s]     79%|###############################################################################################################################                                  | 296/375 [00:04<00:01, 72.36it/s]     81%|##################################################################################################################################5                              | 304/375 [00:04<00:00, 72.27it/s]     83%|#####################################################################################################################################9                           | 312/375 [00:04<00:00, 71.82it/s]     85%|#########################################################################################################################################3                       | 320/375 [00:04<00:00, 72.09it/s]     87%|############################################################################################################################################8                    | 328/375 [00:04<00:00, 72.28it/s]     90%|################################################################################################################################################2                | 336/375 [00:04<00:00, 72.29it/s]     92%|###################################################################################################################################################6             | 344/375 [00:04<00:00, 72.62it/s]     94%|#######################################################################################################################################################1         | 352/375 [00:04<00:00, 72.65it/s]     96%|##########################################################################################################################################################5      | 360/375 [00:04<00:00, 72.28it/s]     98%|#############################################################################################################################################################9   | 368/375 [00:05<00:00, 72.34it/s]    100%|#################################################################################################################################################################| 375/375 [00:05<00:00, 72.23it/s]
    [[-0.00218699 -0.13365071 -0.46267926]
     [ 0.00182056  0.0353105   0.35523678]
     [-0.00307356  0.05099142 -0.4682242 ]
     ...
     [-0.00145361  0.04547659 -0.28537838]
     [ 0.00176705  0.01755795  0.21350667]
     [-0.00318217  0.1109257  -0.38825608]]
    base value: 0.6014154468488043
      0%|                                                                                                                                                                           | 0/375 [00:00<?, ?it/s]      2%|###4                                                                                                                                                               | 8/375 [00:00<00:05, 72.07it/s]      4%|######9                                                                                                                                                           | 16/375 [00:00<00:05, 71.32it/s]      6%|##########3                                                                                                                                                       | 24/375 [00:00<00:04, 71.95it/s]      9%|#############8                                                                                                                                                    | 32/375 [00:00<00:04, 72.36it/s]     11%|#################2                                                                                                                                                | 40/375 [00:00<00:04, 72.49it/s]     13%|####################7                                                                                                                                             | 48/375 [00:00<00:04, 72.57it/s]     15%|########################1                                                                                                                                         | 56/375 [00:00<00:04, 72.19it/s]     17%|###########################6                                                                                                                                      | 64/375 [00:00<00:04, 72.39it/s]     19%|###############################1                                                                                                                                  | 72/375 [00:00<00:04, 72.55it/s]     21%|##################################5                                                                                                                               | 80/375 [00:01<00:04, 72.81it/s]     23%|######################################                                                                                                                            | 88/375 [00:01<00:03, 72.78it/s]     26%|#########################################4                                                                                                                        | 96/375 [00:01<00:03, 72.17it/s]     28%|############################################6                                                                                                                    | 104/375 [00:01<00:03, 72.41it/s]     30%|################################################                                                                                                                 | 112/375 [00:01<00:03, 72.50it/s]     32%|###################################################5                                                                                                             | 120/375 [00:01<00:03, 72.77it/s]     34%|######################################################9                                                                                                          | 128/375 [00:01<00:03, 72.76it/s]     36%|##########################################################3                                                                                                      | 136/375 [00:01<00:03, 72.44it/s]     38%|#############################################################8                                                                                                   | 144/375 [00:01<00:03, 72.41it/s]     41%|#################################################################2                                                                                               | 152/375 [00:02<00:03, 72.70it/s]     43%|####################################################################6                                                                                            | 160/375 [00:02<00:02, 72.71it/s]     45%|########################################################################1                                                                                        | 168/375 [00:02<00:02, 72.12it/s]     47%|###########################################################################5                                                                                     | 176/375 [00:02<00:02, 71.96it/s]     49%|##############################################################################9                                                                                  | 184/375 [00:02<00:02, 72.38it/s]     51%|##################################################################################4                                                                              | 192/375 [00:02<00:02, 72.68it/s]     53%|#####################################################################################8                                                                           | 200/375 [00:02<00:02, 72.70it/s]     55%|#########################################################################################3                                                                       | 208/375 [00:02<00:02, 72.51it/s]     58%|############################################################################################7                                                                    | 216/375 [00:02<00:02, 72.28it/s]     60%|################################################################################################1                                                                | 224/375 [00:03<00:02, 72.41it/s]     62%|###################################################################################################6                                                             | 232/375 [00:03<00:01, 72.51it/s]     64%|#######################################################################################################                                                          | 240/375 [00:03<00:01, 72.57it/s]     66%|##########################################################################################################4                                                      | 248/375 [00:03<00:01, 72.42it/s]     68%|#############################################################################################################9                                                   | 256/375 [00:03<00:01, 72.18it/s]     70%|#################################################################################################################3                                               | 264/375 [00:03<00:01, 72.34it/s]     73%|####################################################################################################################7                                            | 272/375 [00:03<00:01, 72.46it/s]     75%|########################################################################################################################2                                        | 280/375 [00:03<00:01, 72.74it/s]     77%|###########################################################################################################################6                                     | 288/375 [00:03<00:01, 72.08it/s]     79%|###############################################################################################################################                                  | 296/375 [00:04<00:01, 72.27it/s]     81%|##################################################################################################################################5                              | 304/375 [00:04<00:00, 72.61it/s]     83%|#####################################################################################################################################9                           | 312/375 [00:04<00:00, 72.64it/s]     85%|#########################################################################################################################################3                       | 320/375 [00:04<00:00, 72.67it/s]     87%|############################################################################################################################################8                    | 328/375 [00:04<00:00, 72.35it/s]     90%|################################################################################################################################################2                | 336/375 [00:04<00:00, 72.27it/s]     92%|###################################################################################################################################################6             | 344/375 [00:04<00:00, 72.60it/s]     94%|#######################################################################################################################################################1         | 352/375 [00:04<00:00, 72.64it/s]     96%|##########################################################################################################################################################5      | 360/375 [00:04<00:00, 72.78it/s]     98%|#############################################################################################################################################################9   | 368/375 [00:05<00:00, 72.24it/s]    100%|#################################################################################################################################################################| 375/375 [00:05<00:00, 72.43it/s]

    --------------------------------------------------------------------------------
    Classifier: ExtraTreesClassifier()
    Kernel type: <class 'shap.explainers._kernel.Kernel'>
      0%|                                                                                                                                                                           | 0/375 [00:00<?, ?it/s]      1%|#7                                                                                                                                                                 | 4/375 [00:00<00:09, 39.60it/s]      2%|###4                                                                                                                                                               | 8/375 [00:00<00:09, 38.70it/s]      3%|#####1                                                                                                                                                            | 12/375 [00:00<00:09, 38.19it/s]      4%|######9                                                                                                                                                           | 16/375 [00:00<00:09, 37.73it/s]      5%|########6                                                                                                                                                         | 20/375 [00:00<00:09, 37.86it/s]      6%|##########3                                                                                                                                                       | 24/375 [00:00<00:09, 38.31it/s]      7%|############                                                                                                                                                      | 28/375 [00:00<00:09, 38.24it/s]      9%|#############8                                                                                                                                                    | 32/375 [00:00<00:09, 37.98it/s]     10%|###############5                                                                                                                                                  | 36/375 [00:00<00:08, 37.90it/s]     11%|#################2                                                                                                                                                | 40/375 [00:01<00:08, 38.07it/s]     12%|###################                                                                                                                                               | 44/375 [00:01<00:08, 38.30it/s]     13%|####################7                                                                                                                                             | 48/375 [00:01<00:08, 38.29it/s]     14%|######################4                                                                                                                                           | 52/375 [00:01<00:08, 38.32it/s]     15%|########################1                                                                                                                                         | 56/375 [00:01<00:08, 37.77it/s]     16%|#########################9                                                                                                                                        | 60/375 [00:01<00:08, 38.08it/s]     17%|###########################6                                                                                                                                      | 64/375 [00:01<00:08, 38.09it/s]     18%|#############################3                                                                                                                                    | 68/375 [00:01<00:08, 38.06it/s]     19%|###############################1                                                                                                                                  | 72/375 [00:01<00:08, 37.74it/s]     20%|################################8                                                                                                                                 | 76/375 [00:01<00:07, 37.96it/s]     21%|##################################5                                                                                                                               | 80/375 [00:02<00:07, 38.11it/s]     22%|####################################2                                                                                                                             | 84/375 [00:02<00:07, 38.21it/s]     23%|######################################                                                                                                                            | 88/375 [00:02<00:07, 38.56it/s]     25%|#######################################7                                                                                                                          | 92/375 [00:02<00:07, 38.64it/s]     26%|#########################################4                                                                                                                        | 96/375 [00:02<00:07, 38.37it/s]     27%|##########################################9                                                                                                                      | 100/375 [00:02<00:07, 38.18it/s]     28%|############################################6                                                                                                                    | 104/375 [00:02<00:07, 38.26it/s]     29%|##############################################3                                                                                                                  | 108/375 [00:02<00:06, 38.45it/s]     30%|################################################                                                                                                                 | 112/375 [00:02<00:06, 38.13it/s]     31%|#################################################8                                                                                                               | 116/375 [00:03<00:06, 37.90it/s]     32%|###################################################5                                                                                                             | 120/375 [00:03<00:06, 38.07it/s]     33%|#####################################################2                                                                                                           | 124/375 [00:03<00:06, 38.52it/s]     34%|######################################################9                                                                                                          | 128/375 [00:03<00:06, 38.50it/s]     35%|########################################################6                                                                                                        | 132/375 [00:03<00:06, 38.49it/s]     36%|##########################################################3                                                                                                      | 136/375 [00:03<00:06, 38.26it/s]     37%|############################################################1                                                                                                    | 140/375 [00:03<00:06, 37.56it/s]     38%|#############################################################8                                                                                                   | 144/375 [00:03<00:06, 37.94it/s]     39%|###############################################################5                                                                                                 | 148/375 [00:03<00:05, 37.98it/s]     41%|#################################################################2                                                                                               | 152/375 [00:03<00:05, 38.34it/s]     42%|##################################################################9                                                                                              | 156/375 [00:04<00:05, 37.83it/s]     43%|####################################################################6                                                                                            | 160/375 [00:04<00:05, 37.91it/s]     44%|######################################################################4                                                                                          | 164/375 [00:04<00:05, 38.16it/s]     45%|########################################################################1                                                                                        | 168/375 [00:04<00:05, 38.20it/s]     46%|#########################################################################8                                                                                       | 172/375 [00:04<00:05, 38.28it/s]     47%|###########################################################################5                                                                                     | 176/375 [00:04<00:05, 38.22it/s]     48%|#############################################################################2                                                                                   | 180/375 [00:04<00:05, 37.86it/s]     49%|##############################################################################9                                                                                  | 184/375 [00:04<00:05, 37.97it/s]     50%|################################################################################7                                                                                | 188/375 [00:04<00:04, 38.00it/s]     51%|##################################################################################4                                                                              | 192/375 [00:05<00:04, 38.14it/s]     52%|####################################################################################1                                                                            | 196/375 [00:05<00:04, 38.13it/s]     53%|#####################################################################################8                                                                           | 200/375 [00:05<00:04, 38.23it/s]     54%|#######################################################################################5                                                                         | 204/375 [00:05<00:04, 38.21it/s]     55%|#########################################################################################3                                                                       | 208/375 [00:05<00:04, 38.40it/s]     57%|###########################################################################################                                                                      | 212/375 [00:05<00:04, 38.31it/s]     58%|############################################################################################7                                                                    | 216/375 [00:05<00:04, 38.46it/s]     59%|##############################################################################################4                                                                  | 220/375 [00:05<00:04, 38.02it/s]     60%|################################################################################################1                                                                | 224/375 [00:05<00:04, 37.72it/s]     61%|#################################################################################################8                                                               | 228/375 [00:05<00:03, 37.83it/s]     62%|###################################################################################################6                                                             | 232/375 [00:06<00:03, 38.02it/s]     63%|#####################################################################################################3                                                           | 236/375 [00:06<00:03, 37.72it/s]     64%|#######################################################################################################                                                          | 240/375 [00:06<00:03, 37.94it/s]     65%|########################################################################################################7                                                        | 244/375 [00:06<00:03, 38.00it/s]     66%|##########################################################################################################4                                                      | 248/375 [00:06<00:03, 38.14it/s]     67%|############################################################################################################1                                                    | 252/375 [00:06<00:03, 38.50it/s]     68%|#############################################################################################################9                                                   | 256/375 [00:06<00:03, 38.49it/s]     69%|###############################################################################################################6                                                 | 260/375 [00:06<00:02, 38.70it/s]     70%|#################################################################################################################3                                               | 264/375 [00:06<00:02, 38.00it/s]     71%|###################################################################################################################                                              | 268/375 [00:07<00:02, 38.03it/s]     73%|####################################################################################################################7                                            | 272/375 [00:07<00:02, 38.27it/s]     74%|######################################################################################################################4                                          | 276/375 [00:07<00:02, 37.89it/s]     75%|########################################################################################################################2                                        | 280/375 [00:07<00:02, 37.95it/s]     76%|#########################################################################################################################9                                       | 284/375 [00:07<00:02, 38.03it/s]     77%|###########################################################################################################################6                                     | 288/375 [00:07<00:02, 38.27it/s]     78%|#############################################################################################################################3                                   | 292/375 [00:07<00:02, 38.33it/s]     79%|###############################################################################################################################                                  | 296/375 [00:07<00:02, 38.37it/s]     80%|################################################################################################################################8                                | 300/375 [00:07<00:01, 38.38it/s]     81%|##################################################################################################################################5                              | 304/375 [00:07<00:01, 38.18it/s]     82%|####################################################################################################################################2                            | 308/375 [00:08<00:01, 38.14it/s]     83%|#####################################################################################################################################9                           | 312/375 [00:08<00:01, 38.35it/s]     84%|#######################################################################################################################################6                         | 316/375 [00:08<00:01, 37.88it/s]     85%|#########################################################################################################################################3                       | 320/375 [00:08<00:01, 38.19it/s]     86%|###########################################################################################################################################1                     | 324/375 [00:08<00:01, 38.49it/s]     87%|############################################################################################################################################8                    | 328/375 [00:08<00:01, 38.59it/s]     89%|##############################################################################################################################################5                  | 332/375 [00:08<00:01, 38.55it/s]     90%|################################################################################################################################################2                | 336/375 [00:08<00:01, 38.30it/s]     91%|#################################################################################################################################################9               | 340/375 [00:08<00:00, 38.14it/s]     92%|###################################################################################################################################################6             | 344/375 [00:09<00:00, 38.24it/s]     93%|#####################################################################################################################################################4           | 348/375 [00:09<00:00, 37.98it/s]     94%|#######################################################################################################################################################1         | 352/375 [00:09<00:00, 38.01it/s]     95%|########################################################################################################################################################8        | 356/375 [00:09<00:00, 37.50it/s]     96%|##########################################################################################################################################################5      | 360/375 [00:09<00:00, 37.49it/s]     97%|############################################################################################################################################################2    | 364/375 [00:09<00:00, 37.67it/s]     98%|#############################################################################################################################################################9   | 368/375 [00:09<00:00, 37.80it/s]     99%|###############################################################################################################################################################7 | 372/375 [00:09<00:00, 37.99it/s]    100%|#################################################################################################################################################################| 375/375 [00:09<00:00, 38.13it/s]
    [[-0.17706667 -0.12341667 -0.28951667]
     [ 0.11991667  0.04886667  0.24121667]
     [ 0.1255      0.35165    -0.06715   ]
     ...
     [-0.1511     -0.09635    -0.34255   ]
     [-0.16761667 -0.23371667 -0.18866667]
     [-0.21821667  0.00463333 -0.37641667]]
    base value: 0.5900000000000001
      0%|                                                                                                                                                                           | 0/375 [00:00<?, ?it/s]      1%|#7                                                                                                                                                                 | 4/375 [00:00<00:10, 34.22it/s]      2%|###4                                                                                                                                                               | 8/375 [00:00<00:10, 34.37it/s]      3%|#####1                                                                                                                                                            | 12/375 [00:00<00:10, 34.42it/s]      4%|######9                                                                                                                                                           | 16/375 [00:00<00:10, 34.57it/s]      5%|########6                                                                                                                                                         | 20/375 [00:00<00:10, 32.67it/s]      6%|##########3                                                                                                                                                       | 24/375 [00:00<00:11, 30.90it/s]      7%|############                                                                                                                                                      | 28/375 [00:00<00:10, 32.67it/s]      9%|#############8                                                                                                                                                    | 32/375 [00:00<00:10, 34.13it/s]     10%|###############5                                                                                                                                                  | 36/375 [00:01<00:09, 34.69it/s]     11%|#################2                                                                                                                                                | 40/375 [00:01<00:09, 35.22it/s]     12%|###################                                                                                                                                               | 44/375 [00:01<00:09, 35.86it/s]     13%|####################7                                                                                                                                             | 48/375 [00:01<00:09, 35.24it/s]     14%|######################4                                                                                                                                           | 52/375 [00:01<00:09, 35.10it/s]     15%|########################1                                                                                                                                         | 56/375 [00:01<00:09, 35.34it/s]     16%|#########################9                                                                                                                                        | 60/375 [00:01<00:08, 35.45it/s]     17%|###########################6                                                                                                                                      | 64/375 [00:01<00:08, 35.16it/s]     18%|#############################3                                                                                                                                    | 68/375 [00:01<00:08, 34.86it/s]     19%|###############################1                                                                                                                                  | 72/375 [00:02<00:08, 35.34it/s]     20%|################################8                                                                                                                                 | 76/375 [00:02<00:08, 35.12it/s]     21%|##################################5                                                                                                                               | 80/375 [00:02<00:08, 35.48it/s]     22%|####################################2                                                                                                                             | 84/375 [00:02<00:08, 36.13it/s]     23%|######################################                                                                                                                            | 88/375 [00:02<00:07, 36.40it/s]     25%|#######################################7                                                                                                                          | 92/375 [00:02<00:07, 35.61it/s]     26%|#########################################4                                                                                                                        | 96/375 [00:02<00:07, 35.26it/s]     27%|##########################################9                                                                                                                      | 100/375 [00:02<00:07, 36.27it/s]     28%|############################################6                                                                                                                    | 104/375 [00:02<00:07, 36.90it/s]     29%|##############################################3                                                                                                                  | 108/375 [00:03<00:07, 37.36it/s]     30%|################################################                                                                                                                 | 112/375 [00:03<00:07, 37.45it/s]     31%|#################################################8                                                                                                               | 116/375 [00:03<00:06, 37.75it/s]     32%|###################################################5                                                                                                             | 120/375 [00:03<00:06, 37.96it/s]     33%|#####################################################2                                                                                                           | 124/375 [00:03<00:06, 38.26it/s]     34%|######################################################9                                                                                                          | 128/375 [00:03<00:06, 38.43it/s]     35%|########################################################6                                                                                                        | 132/375 [00:03<00:06, 38.04it/s]     36%|##########################################################3                                                                                                      | 136/375 [00:03<00:06, 37.52it/s]     37%|############################################################1                                                                                                    | 140/375 [00:03<00:06, 37.69it/s]     38%|#############################################################8                                                                                                   | 144/375 [00:04<00:06, 38.03it/s]     39%|###############################################################5                                                                                                 | 148/375 [00:04<00:05, 38.00it/s]     41%|#################################################################2                                                                                               | 152/375 [00:04<00:05, 38.33it/s]     42%|##################################################################9                                                                                              | 156/375 [00:04<00:05, 38.26it/s]     43%|####################################################################6                                                                                            | 160/375 [00:04<00:05, 38.10it/s]     44%|######################################################################4                                                                                          | 164/375 [00:04<00:05, 38.10it/s]     45%|########################################################################1                                                                                        | 168/375 [00:04<00:05, 37.81it/s]     46%|#########################################################################8                                                                                       | 172/375 [00:04<00:05, 37.37it/s]     47%|###########################################################################5                                                                                     | 176/375 [00:04<00:05, 37.16it/s]     48%|#############################################################################2                                                                                   | 180/375 [00:04<00:05, 37.45it/s]     49%|##############################################################################9                                                                                  | 184/375 [00:05<00:05, 37.75it/s]     50%|################################################################################7                                                                                | 188/375 [00:05<00:04, 37.98it/s]     51%|##################################################################################4                                                                              | 192/375 [00:05<00:04, 38.12it/s]     52%|####################################################################################1                                                                            | 196/375 [00:05<00:04, 38.55it/s]     53%|#####################################################################################8                                                                           | 200/375 [00:05<00:04, 38.42it/s]     54%|#######################################################################################5                                                                         | 204/375 [00:05<00:04, 37.25it/s]     55%|#########################################################################################3                                                                       | 208/375 [00:05<00:04, 34.33it/s]     57%|###########################################################################################                                                                      | 212/375 [00:05<00:05, 31.38it/s]     58%|############################################################################################7                                                                    | 216/375 [00:06<00:05, 31.64it/s]     59%|##############################################################################################4                                                                  | 220/375 [00:06<00:04, 32.44it/s]     60%|################################################################################################1                                                                | 224/375 [00:06<00:04, 33.12it/s]     61%|#################################################################################################8                                                               | 228/375 [00:06<00:04, 33.68it/s]     62%|###################################################################################################6                                                             | 232/375 [00:06<00:04, 34.71it/s]     63%|#####################################################################################################3                                                           | 236/375 [00:06<00:03, 35.10it/s]     64%|#######################################################################################################                                                          | 240/375 [00:06<00:03, 35.56it/s]     65%|########################################################################################################7                                                        | 244/375 [00:06<00:03, 34.80it/s]     66%|##########################################################################################################4                                                      | 248/375 [00:06<00:03, 35.63it/s]     67%|############################################################################################################1                                                    | 252/375 [00:07<00:03, 35.10it/s]     68%|#############################################################################################################9                                                   | 256/375 [00:07<00:03, 35.56it/s]     69%|###############################################################################################################6                                                 | 260/375 [00:07<00:03, 35.64it/s]     70%|#################################################################################################################3                                               | 264/375 [00:07<00:03, 35.57it/s]     71%|###################################################################################################################                                              | 268/375 [00:07<00:02, 36.09it/s]     73%|####################################################################################################################7                                            | 272/375 [00:07<00:02, 36.37it/s]     74%|######################################################################################################################4                                          | 276/375 [00:07<00:02, 36.27it/s]     75%|########################################################################################################################2                                        | 280/375 [00:07<00:02, 34.69it/s]     76%|#########################################################################################################################9                                       | 284/375 [00:07<00:02, 33.42it/s]     77%|###########################################################################################################################6                                     | 288/375 [00:08<00:02, 34.07it/s]     78%|#############################################################################################################################3                                   | 292/375 [00:08<00:02, 34.64it/s]     79%|###############################################################################################################################                                  | 296/375 [00:08<00:02, 35.44it/s]     80%|################################################################################################################################8                                | 300/375 [00:08<00:02, 36.20it/s]     81%|##################################################################################################################################5                              | 304/375 [00:08<00:01, 36.99it/s]     82%|####################################################################################################################################2                            | 308/375 [00:08<00:01, 37.52it/s]     83%|#####################################################################################################################################9                           | 312/375 [00:08<00:01, 37.81it/s]     84%|#######################################################################################################################################6                         | 316/375 [00:08<00:01, 37.90it/s]     85%|#########################################################################################################################################3                       | 320/375 [00:08<00:01, 38.06it/s]     86%|###########################################################################################################################################1                     | 324/375 [00:09<00:01, 38.29it/s]     87%|############################################################################################################################################8                    | 328/375 [00:09<00:01, 38.12it/s]     89%|##############################################################################################################################################5                  | 332/375 [00:09<00:01, 37.40it/s]     90%|################################################################################################################################################2                | 336/375 [00:09<00:01, 37.50it/s]     91%|#################################################################################################################################################9               | 340/375 [00:09<00:00, 37.68it/s]     92%|###################################################################################################################################################6             | 344/375 [00:09<00:00, 37.69it/s]     93%|#####################################################################################################################################################4           | 348/375 [00:09<00:00, 38.14it/s]     94%|#######################################################################################################################################################1         | 352/375 [00:09<00:00, 38.13it/s]     95%|########################################################################################################################################################8        | 356/375 [00:09<00:00, 38.12it/s]     96%|##########################################################################################################################################################5      | 360/375 [00:09<00:00, 38.22it/s]     97%|############################################################################################################################################################2    | 364/375 [00:10<00:00, 38.18it/s]     98%|#############################################################################################################################################################9   | 368/375 [00:10<00:00, 38.16it/s]     99%|###############################################################################################################################################################7 | 372/375 [00:10<00:00, 37.51it/s]    100%|#################################################################################################################################################################| 375/375 [00:10<00:00, 36.21it/s]






|

.. code-block:: default
   :lineno-start: 6

    # Generic
    import numpy as np
    import pandas as pd
    import matplotlib.pyplot as plt

    # Sklearn
    from sklearn.model_selection import train_test_split
    from sklearn.datasets import load_iris
    from sklearn.datasets import load_breast_cancer
    from sklearn.naive_bayes import GaussianNB
    from sklearn.linear_model import LogisticRegression
    from sklearn.tree import DecisionTreeClassifier
    from sklearn.ensemble import RandomForestClassifier
    from sklearn.svm import SVC
    from sklearn.ensemble import ExtraTreesClassifier
    from sklearn.neural_network import MLPClassifier
    from sklearn.calibration import CalibratedClassifierCV

    # Xgboost
    from xgboost import XGBClassifier

    # ----------------------------------------
    # Load data
    # ----------------------------------------
    # Seed
    seed = 0

    # Load dataset
    bunch = load_iris()
    bunch = load_breast_cancer()
    features = list(bunch['feature_names'])

    # Create DataFrame
    data = pd.DataFrame(data=np.c_[bunch['data'], bunch['target']],
                        columns=features + ['target'])

    # Create X, y
    X = data[bunch['feature_names']]
    y = data['target']

    # Filter
    X = X.iloc[:500, :3]
    y = y.iloc[:500]


    # Split dataset
    X_train, X_test, y_train, y_test = \
        train_test_split(X, y, random_state=seed)


    # ----------------------------------------
    # Classifiers
    # ----------------------------------------
    # Train classifier
    gnb = GaussianNB()
    llr = LogisticRegression()
    dtc = DecisionTreeClassifier(random_state=seed)
    rfc = RandomForestClassifier(random_state=seed)
    xgb = XGBClassifier(
        min_child_weight=0.005,
        eta= 0.05, gamma= 0.2,
        max_depth= 4,
        n_estimators= 100)
    ann = MLPClassifier()
    svm = SVC(probability=True)
    etc = ExtraTreesClassifier()

    # List
    clfs = [gnb, llr, dtc, rfc, xgb, ann, svm, etc]
    #clfs = [svm, dtc]

    # Fit
    for clf in clfs:
        clf.fit(X_train, y_train)

    # ----------------------------------------
    # Find shap values
    # ----------------------------------------
    # Possible explainers:
    #    - shap.DeepExplainer
    #    - shap.KernelExplainer
    #    - shap.TreeExplainer
    #    - shap.LinearExplainer
    #    - shap.Exact
    #    - shap.Explainer

    # Import
    import shap

    # Initialise
    shap.initjs()


    def predict_proba(x):
        return clf.predict_proba(x)[:, 1]

    # Loop
    for clf in clfs:

        try:
            # Show classifier
            print("\n" + '-'*80)
            print("Classifier: %s" % clf)

            """
            # Create shap explainer
            if isinstance(clf,
                (DecisionTreeClassifier,
                 ExtraTreesClassifier,
                 XGBClassifier)):
                # Set Tree explainer
                explainer = shap.TreeExplainer(clf)
            elif isinstance(clf, LogisticRegression):
                # Masker
                masker = shap.maskers.Independent(X_train, max_samples=100)
                # Set Linear explainer
                #explainer = shap.LinearExplainer(predict_proba)#, masker)
                explainer = shap.Explainer(predict_proba, masker)
            elif isinstance(clf, int):
                # Set NN explainer
                explainer = shap.DeepExplainer(clf)
            else:
                # Works for [svc]
                # If too many examples (pass aux to explainer).
                aux = shap.sample(X_train, 100)
                # Set generic kernel explainer
                explainer = shap.KernelExplainer(predict_proba, aux)
            """

            # Sample to speed up processing.
            sample = shap.sample(X_train, 100)

            if isinstance(clf, XGBClassifier):
                # Works for [llr, dtc, etc, xgb]
                explainer = shap.Explainer(clf, sample)
            else:
                # Works for all but [xgb]
                explainer = shap.KernelExplainer(predict_proba, sample)

            # Show kernel type
            print("Kernel type: %s" % type(explainer))

            # Get shap values
            #shap_values = explainer(X)
            shap_values = explainer.shap_values(X_train)

            print(shap_values)


            # Show information
            print("base value: %s" % \
                  explainer.expected_value)
            #print("shap_values: %s" % \
            #      str(shap_values.shape))

            # Summary plot
            plt.figure()
            plot_summary = shap.summary_plot( \
                explainer.shap_values(X_train),
                X_train, cmap='viridis',
                show=False)

            # Format
            plt.title(clf.__class__.__name__)
            plt.tight_layout()

        except Exception as e:
            print("Error: %s" % e)

    # Show
    plt.show()


.. rst-class:: sphx-glr-timing

   **Total running time of the script:** ( 1 minutes  16.843 seconds)


.. _sphx_glr_download__examples_shap-examples_plot_main02.py:


.. only :: html

 .. container:: sphx-glr-footer
    :class: sphx-glr-footer-example



  .. container:: sphx-glr-download sphx-glr-download-python

     :download:`Download Python source code: plot_main02.py <plot_main02.py>`



  .. container:: sphx-glr-download sphx-glr-download-jupyter

     :download:`Download Jupyter notebook: plot_main02.ipynb <plot_main02.ipynb>`


.. only:: html

 .. rst-class:: sphx-glr-signature

    `Gallery generated by Sphinx-Gallery <https://sphinx-gallery.github.io>`_
