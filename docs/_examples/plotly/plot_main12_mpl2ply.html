<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>12a. Matplotlib to Plotly (errorbar) &mdash; python-spare-code 0.0.1 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/sg_gallery.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/sg_gallery-binder.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/sg_gallery-dataframe.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/sg_gallery-rendered-html.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../../_static/python_icon_191765.ico"/>
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="12b. Matplotlib to Plotly (shap)" href="plot_main12_mpl2ply_shap.html" />
    <link rel="prev" title="11. Graph interaction (updatemenus)" href="plot_main11_updatemenus.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            python-spare-code
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Tutorial</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../usage/introduction.html">Introduction</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Gallery</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">General</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html#explainer-dashboard">Explainer Dashboard</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#factory-boy">Factory Boy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#jsonpickle">jsonpickle</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#ldap">LDAP</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#matplotlib-seaborn">Matplotlib / Seaborn</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#other">Other</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#pandas">Pandas</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html#plotly">Plotly</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="plot_main01_roc.html">01. ROC curve (scatter)</a></li>
<li class="toctree-l3"><a class="reference internal" href="plot_main02_distributions.html">02. Confusion matrix dist. (violin)</a></li>
<li class="toctree-l3"><a class="reference internal" href="plot_main03_sparklines.html">03. Sparklines (scatter)</a></li>
<li class="toctree-l3"><a class="reference internal" href="plot_main04_2dhist.html">04. 2D Contour &amp; marginal histograms</a></li>
<li class="toctree-l3"><a class="reference internal" href="plot_main05_boxplot_sepsis_shap.html">05. Sepsis shap  by timestep (boxplot)</a></li>
<li class="toctree-l3"><a class="reference internal" href="plot_main06_treemap_v1.html">06. Coffee flavours (treemap)</a></li>
<li class="toctree-l3"><a class="reference internal" href="plot_main07_parallel_v1.html">07a. Manufacturing features (parallel)</a></li>
<li class="toctree-l3"><a class="reference internal" href="plot_main07_parallel_v2.html">07b. Dengue features (parallel)</a></li>
<li class="toctree-l3"><a class="reference internal" href="plot_main08_sankey_v1.html">08. Energy forecast 2050 (sankey)</a></li>
<li class="toctree-l3"><a class="reference internal" href="plot_main10_weather.html">10. Weather Ho Chi Minh (sparklines)</a></li>
<li class="toctree-l3"><a class="reference internal" href="plot_main11_updatemenus.html">11. Graph interaction (updatemenus)</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">12a. Matplotlib to Plotly (errorbar)</a></li>
<li class="toctree-l3"><a class="reference internal" href="plot_main12_mpl2ply_shap.html">12b. Matplotlib to Plotly (shap)</a></li>
<li class="toctree-l3"><a class="reference internal" href="plot_main30_dash_table.html">30. Dash Table app</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#scikits">Scikits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#shap">Shap</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#tableone">TableOne</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#tensorflow">Tensorflow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#ukvi-trips">UKVI Trips</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#utils">Utils</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">python-spare-code</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">General</a></li>
      <li class="breadcrumb-item active">12a. Matplotlib to Plotly (errorbar)</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/_examples/plotly/plot_main12_mpl2ply.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <div class="sphx-glr-download-link-note admonition note">
<p class="admonition-title">Note</p>
<p>Click <a class="reference internal" href="#sphx-glr-download-examples-plotly-plot-main12-mpl2ply-py"><span class="std std-ref">here</span></a>
to download the full example code</p>
</div>
<section class="sphx-glr-example-title" id="a-matplotlib-to-plotly-errorbar">
<span id="sphx-glr-examples-plotly-plot-main12-mpl2ply-py"></span><h1>12a. Matplotlib to Plotly (errorbar)<a class="headerlink" href="#a-matplotlib-to-plotly-errorbar" title="Permalink to this heading">ÔÉÅ</a></h1>
<p>This example converts a matplotlib figure to Plotly.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>A known bug in Plotly (see GitHub issue) causes the mpl_to_plotly() function
to fail because it references an outdated function from Matplotlib.
The current fix is to downgrade to an older version of Matplotlib or to
recreate your figure in Plotly manually.</p>
<p>[ISSUE]: <a class="reference external" href="https://github.com/plotly/plotly.py/issues/3624#issuecomment-1161805210">https://github.com/plotly/plotly.py/issues/3624#issuecomment-1161805210</a>
In the latest commit of plotly packages/python/plotly/plotly/matplotlylib/mpltools.py
line 368, it still calls is_frame_like() function.</p>
</div>
<img src="../../_images/sphx_glr_plot_main12_mpl2ply_001.png" srcset="../../_images/sphx_glr_plot_main12_mpl2ply_001.png" alt="plot main12 mpl2ply" class = "sphx-glr-single-img"/><p class="sphx-glr-script-out">Out:</p>
<div class="sphx-glr-script-out highlight-none notranslate"><div class="highlight"><pre><span></span>&#39;\n.. note:: This section has been commented as it does not work\n          with recent versions of matplotlib. Downgrade an\n          remove quotes to run it.\n          \n# Convert to plotly\nimport plotly.tools as tls\n\n# Convert to plotly\nfig = tls.mpl_to_plotly(fig)\n\nprint(fig.data)\n\n# Show\n#fig.show()\nfig\n&#39;
</pre></div>
</div>
<div class="line-block">
<div class="line"><br /></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="linenos">18</span> <span class="c1"># Libraries</span>
<span class="linenos">19</span> <span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="linenos">20</span> <span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="linenos">21</span>
<span class="linenos">22</span> <span class="k">try</span><span class="p">:</span>
<span class="linenos">23</span>     <span class="vm">__file__</span>
<span class="linenos">24</span>     <span class="n">TERMINAL</span> <span class="o">=</span> <span class="kc">True</span>
<span class="linenos">25</span> <span class="k">except</span><span class="p">:</span>
<span class="linenos">26</span>     <span class="n">TERMINAL</span> <span class="o">=</span> <span class="kc">False</span>
<span class="linenos">27</span>
<span class="linenos">28</span>
<span class="linenos">29</span> <span class="c1"># Create data</span>
<span class="linenos">30</span> <span class="n">x</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="linenos">31</span> <span class="n">y</span> <span class="o">=</span> <span class="mf">2.5</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="n">x</span> <span class="o">/</span> <span class="mi">20</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="p">)</span>
<span class="linenos">32</span> <span class="n">yerr</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mf">0.05</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
<span class="linenos">33</span>
<span class="linenos">34</span> <span class="c1"># Figure</span>
<span class="linenos">35</span> <span class="n">fig</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">()</span>
<span class="linenos">36</span> <span class="n">plt</span><span class="o">.</span><span class="n">errorbar</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">3</span><span class="p">,</span> <span class="n">yerr</span><span class="o">=</span><span class="n">yerr</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;both limits (default)&#39;</span><span class="p">)</span>
<span class="linenos">37</span> <span class="n">plt</span><span class="o">.</span><span class="n">errorbar</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">2</span><span class="p">,</span> <span class="n">yerr</span><span class="o">=</span><span class="n">yerr</span><span class="p">,</span> <span class="n">uplims</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;uplims=True&#39;</span><span class="p">)</span>
<span class="linenos">38</span> <span class="n">plt</span><span class="o">.</span><span class="n">errorbar</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="n">yerr</span><span class="o">=</span><span class="n">yerr</span><span class="p">,</span> <span class="n">uplims</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">lolims</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
<span class="linenos">39</span>              <span class="n">label</span><span class="o">=</span><span class="s1">&#39;uplims=True, lolims=True&#39;</span><span class="p">)</span>
<span class="linenos">40</span>
<span class="linenos">41</span> <span class="c1"># Add error</span>
<span class="linenos">42</span> <span class="n">upperlimits</span> <span class="o">=</span> <span class="p">[</span><span class="kc">True</span><span class="p">,</span> <span class="kc">False</span><span class="p">]</span> <span class="o">*</span> <span class="mi">5</span>
<span class="linenos">43</span> <span class="n">lowerlimits</span> <span class="o">=</span> <span class="p">[</span><span class="kc">False</span><span class="p">,</span> <span class="kc">True</span><span class="p">]</span> <span class="o">*</span> <span class="mi">5</span>
<span class="linenos">44</span> <span class="n">plt</span><span class="o">.</span><span class="n">errorbar</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">yerr</span><span class="o">=</span><span class="n">yerr</span><span class="p">,</span> <span class="n">uplims</span><span class="o">=</span><span class="n">upperlimits</span><span class="p">,</span> <span class="n">lolims</span><span class="o">=</span><span class="n">lowerlimits</span><span class="p">,</span>
<span class="linenos">45</span>              <span class="n">label</span><span class="o">=</span><span class="s1">&#39;subsets of uplims and lolims&#39;</span><span class="p">)</span>
<span class="linenos">46</span>
<span class="linenos">47</span> <span class="c1"># add legent</span>
<span class="linenos">48</span> <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;lower right&#39;</span><span class="p">)</span>
<span class="linenos">49</span>
<span class="linenos">50</span>
<span class="linenos">51</span><span class="w"> </span><span class="sd">&quot;&quot;&quot;</span>
<span class="linenos">52</span><span class="sd"> .. note:: This section has been commented as it does not work</span>
<span class="linenos">53</span><span class="sd">           with recent versions of matplotlib. Downgrade an</span>
<span class="linenos">54</span><span class="sd">           remove quotes to run it.</span>
<span class="linenos">55</span>
<span class="linenos">56</span><span class="sd"> # Convert to plotly</span>
<span class="linenos">57</span><span class="sd"> import plotly.tools as tls</span>
<span class="linenos">58</span>
<span class="linenos">59</span><span class="sd"> # Convert to plotly</span>
<span class="linenos">60</span><span class="sd"> fig = tls.mpl_to_plotly(fig)</span>
<span class="linenos">61</span>
<span class="linenos">62</span><span class="sd"> print(fig.data)</span>
<span class="linenos">63</span>
<span class="linenos">64</span><span class="sd"> # Show</span>
<span class="linenos">65</span><span class="sd"> #fig.show()</span>
<span class="linenos">66</span><span class="sd"> fig</span>
<span class="linenos">67</span><span class="sd"> &quot;&quot;&quot;</span>
</pre></div>
</div>
<p class="sphx-glr-timing"><strong>Total running time of the script:</strong> ( 0 minutes  0.078 seconds)</p>
<div class="sphx-glr-footer class sphx-glr-footer-example docutils container" id="sphx-glr-download-examples-plotly-plot-main12-mpl2ply-py">
<div class="sphx-glr-download sphx-glr-download-python docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/3d2456e46c0b755ceb7202d0b8303511/plot_main12_mpl2ply.py"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Python</span> <span class="pre">source</span> <span class="pre">code:</span> <span class="pre">plot_main12_mpl2ply.py</span></code></a></p>
</div>
<div class="sphx-glr-download sphx-glr-download-jupyter docutils container">
<p><a class="reference download internal" download="" href="../../_downloads/f212bab6d7266b96869d0a12f95347c9/plot_main12_mpl2ply.ipynb"><code class="xref download docutils literal notranslate"><span class="pre">Download</span> <span class="pre">Jupyter</span> <span class="pre">notebook:</span> <span class="pre">plot_main12_mpl2ply.ipynb</span></code></a></p>
</div>
</div>
<p class="sphx-glr-signature"><a class="reference external" href="https://sphinx-gallery.github.io">Gallery generated by Sphinx-Gallery</a></p>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="plot_main11_updatemenus.html" class="btn btn-neutral float-left" title="11. Graph interaction (updatemenus)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="plot_main12_mpl2ply_shap.html" class="btn btn-neutral float-right" title="12b. Matplotlib to Plotly (shap)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2021-2025, Bernard Hernandez.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>